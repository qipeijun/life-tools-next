(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72514,27879,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(80064);let i=(0,r.memo)(function({options:e=[],selected:r,onChange:i,className:n="",columns:s=3,...l}){let o=(0,a.cn)("grid gap-3",2===s&&"grid-cols-2",3===s&&"grid-cols-3",4===s&&"grid-cols-4",n);return(0,t.jsx)("div",{className:o,...l,children:e.map(e=>{let n;return(0,t.jsxs)("button",{type:"button",onClick:()=>i(e.value),className:(n=e.value===r,(0,a.cn)("h-12","px-4","flex items-center justify-center","rounded-xl","font-semibold text-base","transition-all duration-200","touch-manipulation","select-none","active:scale-95",n?"bg-blue-500 text-white shadow-sm":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300",n&&"ios-bg-blue")),"aria-pressed":e.value===r,children:[e.icon&&(0,t.jsx)("span",{className:"mr-2",children:e.icon}),(0,t.jsx)("span",{children:e.label})]},e.value)})})});i.displayName="QuickActions",e.s(["QuickActions",0,i],72514);var n=e.i(75254);let s=(0,n.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),l=(0,n.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),o=(0,r.memo)(function({type:e="neutral",title:i,value:n,subtitle:o,details:c=[],expandable:d=!1,defaultExpanded:u=!1,icon:p,className:f="",...m}){let[x,h]=(0,r.useState)(u),g={profit:{bg:"bg-green-50 dark:bg-green-900/10",border:"border-green-100 dark:border-green-800/30",text:"text-green-600 dark:text-green-400",icon:"text-green-500"},loss:{bg:"bg-red-50 dark:bg-red-900/10",border:"border-red-100 dark:border-red-800/30",text:"text-red-600 dark:text-red-400",icon:"text-red-500"},neutral:{bg:"bg-gray-50 dark:bg-gray-800/50",border:"border-gray-100 dark:border-gray-700/30",text:"text-gray-700 dark:text-gray-300",icon:"text-gray-500"}},b=g[e]||g.neutral,y=(0,a.cn)("rounded-2xl p-6","border","transition-all duration-200",b.bg,b.border,f);return(0,t.jsxs)("div",{className:y,...m,children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[p&&(0,t.jsx)("span",{className:(0,a.cn)("text-xl",b.icon),children:p}),(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:i})]})}),(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("div",{className:(0,a.cn)("text-4xl font-bold tracking-tight",b.text),children:n}),o&&(0,t.jsx)("div",{className:(0,a.cn)("text-xl font-semibold mt-1",b.text),children:o})]}),c.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"my-4 border-t border-gray-200 dark:border-gray-700"}),(0,t.jsx)("div",{className:(0,a.cn)("space-y-3 overflow-hidden transition-all duration-300",!x&&d&&"max-h-0 opacity-0",x&&"max-h-96 opacity-100"),children:c.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:e.label}),(0,t.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:e.value})]},r))}),d&&(0,t.jsxs)("button",{type:"button",onClick:()=>h(!x),className:(0,a.cn)("w-full mt-4 py-2","flex items-center justify-center gap-1","text-sm font-medium","text-gray-500 dark:text-gray-400","hover:text-gray-700 dark:hover:text-gray-300","transition-colors","active:scale-95"),children:[(0,t.jsx)("span",{children:x?"收起":"查看详情"}),x?(0,t.jsx)(l,{className:"w-4 h-4"}):(0,t.jsx)(s,{className:"w-4 h-4"})]})]})]})});o.displayName="ResultCard",e.s(["ResultCard",0,o],27879)},64961,66403,85379,71689,e=>{"use strict";var t=e.i(71645);function r(e,r){let[a,i]=(0,t.useState)(()=>{try{let t=window.localStorage.getItem(e);return t?JSON.parse(t):r}catch(t){return console.warn(`Error reading localStorage key "${e}":`,t),r}});return[a,t=>{try{i(t),window.localStorage.setItem(e,JSON.stringify(t))}catch(t){console.warn(`Error setting localStorage key "${e}":`,t)}}]}function a(e,t,r=0,i="day",n={}){let{overboughtThreshold:s=80,oversoldThreshold:l=20,sensitivity:o=50}=n,c=parseFloat(e),d=parseFloat(t),u={signal:"neutral",advice:"中性信号，建议观望",confidence:.5};return c<=20&&d<=l?(u.signal="strong_buy",u.advice=`强烈买入信号：J值(${c.toFixed(1)})和RSI(${d.toFixed(1)})均处于严重超卖区域`,u.confidence=.9):c<=30||d<=35?(u.signal="buy",u.advice=`买入信号：J值(${c.toFixed(1)})或RSI(${d.toFixed(1)})处于超卖区域`,u.confidence=.7):c>=80&&d>=s?(u.signal="strong_sell",u.advice=`强烈卖出信号：J值(${c.toFixed(1)})和RSI(${d.toFixed(1)})均处于严重超买区域`,u.confidence=.9):c>=70||d>=70?(u.signal="sell",u.advice=`卖出信号：J值(${c.toFixed(1)})或RSI(${d.toFixed(1)})处于超买区域`,u.confidence=.7):(d>=45&&d<=55?u.advice=`市场处于平衡状态，J值(${c.toFixed(1)})，RSI(${d.toFixed(1)})在正常区间，建议观望`:d>55?u.advice=`市场偏强势，J值(${c.toFixed(1)})，RSI(${d.toFixed(1)})偏高，可考虑逢高减仓`:u.advice=`市场偏弱势，J值(${c.toFixed(1)})，RSI(${d.toFixed(1)})偏低，可考虑逢低吸纳`,u.confidence=.4),r>0&&(u.confidence=Math.min(.95,u.confidence+.1)),u}function i(e,t,r,a=.1,n=.2){let s=(t+r)/2,l=(e-50)/50*a,o=1+Math.abs(e-50)/50*n,c=(t-r)*o,d=c*(l=Math.max(-a,Math.min(a,l)))/2,u=+(s-c/2-d).toFixed(2),p=+(s+c/2-d).toFixed(2);return{adjustedUpper:p,adjustedLower:u,adjustedWidth:+(p-u).toFixed(2),scaleRatio:+o.toFixed(4),offsetRatio:+l.toFixed(4)}}function n(e,t,r,a={type:"ratio",value:3e-4}){let i,s;"fixed"===a.type?(i=a.value,s=a.value):(i=e*r*a.value,s=t*r*a.value);let l=t*r*.001,o=e*r+i,c=t*r-s-l,d=c-o,u=d/o*100,p=i+s+l,f=(o+s+l)/r;return{buyCost:o.toFixed(2),sellIncome:c.toFixed(2),profit:d.toFixed(2),profitRate:u.toFixed(2),buyFee:i.toFixed(2),sellFee:s.toFixed(2),stampDuty:l.toFixed(2),totalFee:p.toFixed(2),breakEvenPrice:f.toFixed(3),commissionAmount:p.toFixed(2)}}function s(e,t,r,a={type:"ratio",value:3e-4}){let i,l,o=parseFloat(e),c=parseInt(t),d=parseFloat(r)/100;i="fixed"===a.type?a.value:o*c*a.value;let u=o*c+i,p=u+u*d,f=n(o,l="fixed"===a.type?(p+a.value)/(.999*c):p/(c*(1-a.value-.001)),c,a);return{requiredSellPrice:l.toFixed(3),targetProfitRate:r.toFixed(2),...f}}function l(e,t=25){let r=new Date(e),a=new Date(r.getTime()-6e4*t);return{appointmentTime:a,targetTime:r,makingTime:t,timeRemaining:a-new Date}}function o(e,t,r,a,i=14,n=0,s="day",l={}){let{overboughtThreshold:c=70,oversoldThreshold:d=30,sensitivity:u=50}=l,p=void 0!==e?parseFloat(e):void 0,f=void 0!==t?parseFloat(t):void 0,m=parseFloat(r),x=parseFloat(a),h={signal:"neutral",advice:"中性信号，建议观望",confidence:.5,details:{kdjStatus:"",rsiStatus:""}},g=0,b="";void 0!==p&&void 0!==f?(p>f&&m>0?(b="金叉向上",g=2):p<f&&m<0?(b="死叉向下",g=-2):p>f?(b="偏强",g=1):(b="偏弱",g=-1),m>=100?(b+="（严重超买）",g-=2):m<=-100?(b+="（严重超卖）",g+=2):m>=80?(b+="（超买）",g-=1):m<=20&&(b+="（超卖）",g+=1)):m>=80?(b="J值超买",g=-1):m<=20?(b="J值超卖",g=1):(b="J值中性",g=0),h.details.kdjStatus=b;let y=0,v="";x>=c?x>=85?(v="严重超买",y=-2):(v="超买",y=-1):x<=d?x<=15?(v="严重超卖",y=2):(v="超卖",y=1):(v="中性",y=0),h.details.rsiStatus=v;let j=g+y;return j>=3?(h.signal="strong_buy",h.advice=`强烈买入信号：${b}，${v}，多项指标显示强烈看涨`,h.confidence=.85):j>=1?(h.signal="buy",h.advice=`买入信号：${b}，${v}，指标显示看涨趋势`,h.confidence=.7):j<=-3?(h.signal="strong_sell",h.advice=`强烈卖出信号：${b}，${v}，多项指标显示强烈看跌`,h.confidence=.85):j<=-1?(h.signal="sell",h.advice=`卖出信号：${b}，${v}，指标显示看跌趋势`,h.confidence=.7):(h.advice=`中性信号：${b}，${v}，市场处于平衡状态，建议观望`,h.confidence=.5),n>0&&(h.confidence=Math.min(.95,h.confidence+.05)),h.confidence=Math.min(.95,h.confidence*({minute:.8,hour:.9,day:1,week:1.1,month:1.2})[s]||1),h}function c(e,t,r,a,i=.001){let n=(t-e)/(r-1),s=a/r,l=n*s/((e+t)/2)-n*s/((e+t)/2)*i*2,o=l*r/a*100,d=50*o,u=0!==o?Math.ceil(100/Math.abs(o)):1/0;return{gridSpacing:n.toFixed(2),profitPerGrid:l.toFixed(2),profitRate:o.toFixed(2),annualizedRate:d.toFixed(2),breakEvenDays:u,perGridInvestment:s.toFixed(2)}}function d(e,t=0,r=1/0){let a=parseFloat(e);return isNaN(a)?{isValid:!1,message:"请输入有效数字"}:a<t?{isValid:!1,message:`数值不能小于${t}`}:a>r?{isValid:!1,message:`数值不能大于${r}`}:{isValid:!0,value:a}}function u(e){return d(e,0,100)}function p(e){if(!/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/.test(e))return{isValid:!1,message:"请输入有效时间 (HH:MM)"};let[t,r]=e.split(":").map(Number);return t<0||t>23?{isValid:!1,message:"小时必须在0-23之间"}:r<0||r>59?{isValid:!1,message:"分钟必须在0-59之间"}:{isValid:!0,value:e}}e.s(["useLocalStorage",()=>r],64961),e.s(["calculateGridProfit",()=>c,"calculateKDJ",()=>a,"calculateKDJPro",()=>o,"calculateRequiredSellPrice",()=>s,"calculateSoyMilkTime",()=>l,"calculateTDayProfit",()=>n,"computeSmartGridRange",()=>i],66403),e.s(["validateNumber",()=>d,"validateRSI",()=>u,"validateTime",()=>p],85379);let f=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>f],71689)},95983,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(75254);let i=(0,a.default)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),n=(0,a.default)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),s=r.default.memo(function(){let[e,a]=(0,r.useState)(!1),[s,l]=(0,r.useState)(!1);(0,r.useEffect)(()=>{l(!0);let e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches,r="dark"===e||!e&&t;a(r),document.documentElement.classList.toggle("dark",r)},[]);let o=(0,r.useCallback)(()=>{let t=!e;a(t),document.documentElement.classList.toggle("dark",t),localStorage.setItem("theme",t?"dark":"light")},[e]);return s?(0,t.jsx)("button",{onClick:o,className:"w-10 h-10 rounded-ios-button bg-ios-bg-tertiary dark:bg-ios-dark-bg-tertiary flex items-center justify-center text-ios-text-primary dark:text-ios-dark-text-primary hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200 transform active:scale-95","aria-label":e?"切换到亮色模式":"切换到暗色模式",children:e?(0,t.jsx)(i,{className:"w-5 h-5"}):(0,t.jsx)(n,{className:"w-5 h-5"})}):(0,t.jsx)("div",{className:"w-10 h-10 rounded-ios-button bg-ios-bg-tertiary dark:bg-ios-dark-bg-tertiary animate-pulse"})});e.s(["ThemeToggle",0,s],95983)},33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},75254,e=>{"use strict";var t=e.i(71645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},a=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:o,iconNode:c,...d},u)=>(0,t.createElement)("svg",{ref:u,...i,width:r,height:r,stroke:e,strokeWidth:s?24*Number(n)/Number(r):n,className:a("lucide",l),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(o)?o:[o]])),s=(e,i)=>{let s=(0,t.forwardRef)(({className:s,...l},o)=>(0,t.createElement)(n,{ref:o,iconNode:i,className:a(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s),...l}));return s.displayName=r(e),s};e.s(["default",()=>s],75254)},98183,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={assign:function(){return o},searchParamsToUrlQuery:function(){return n},urlQueryToSearchParams:function(){return l}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});function n(e){let t={};for(let[r,a]of e.entries()){let e=t[r];void 0===e?t[r]=a:Array.isArray(e)?e.push(a):t[r]=[e,a]}return t}function s(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function l(e){let t=new URLSearchParams;for(let[r,a]of Object.entries(e))if(Array.isArray(a))for(let e of a)t.append(r,s(e));else t.set(r,s(a));return t}function o(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,a]of r.entries())e.append(t,a)}return e}},95057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={formatUrl:function(){return l},formatWithValidation:function(){return c},urlObjectKeys:function(){return o}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let n=e.r(90809)._(e.r(98183)),s=/https?|ftp|gopher|file/;function l(e){let{auth:t,hostname:r}=e,a=e.protocol||"",i=e.pathname||"",l=e.hash||"",o=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),o&&"object"==typeof o&&(o=String(n.urlQueryToSearchParams(o)));let d=e.search||o&&`?${o}`||"";return a&&!a.endsWith(":")&&(a+=":"),e.slashes||(!a||s.test(a))&&!1!==c?(c="//"+(c||""),i&&"/"!==i[0]&&(i="/"+i)):c||(c=""),l&&"#"!==l[0]&&(l="#"+l),d&&"?"!==d[0]&&(d="?"+d),i=i.replace(/[?#]/g,encodeURIComponent),d=d.replace("#","%23"),`${a}${c}${i}${d}${l}`}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return l(e)}},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return i}});let a=e.r(71645);function i(e,t){let r=(0,a.useRef)(null),i=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=i.current;t&&(i.current=null,t())}else e&&(r.current=n(e,a)),t&&(i.current=n(t,a))},[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={DecodeError:function(){return g},MiddlewareNotFoundError:function(){return j},MissingStaticPage:function(){return v},NormalizeError:function(){return b},PageNotFoundError:function(){return y},SP:function(){return x},ST:function(){return h},WEB_VITALS:function(){return n},execOnce:function(){return s},getDisplayName:function(){return u},getLocationOrigin:function(){return c},getURL:function(){return d},isAbsoluteUrl:function(){return o},isResSent:function(){return p},loadGetInitialProps:function(){return m},normalizeRepeatedSlashes:function(){return f},stringifyError:function(){return N}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let n=["CLS","FCP","FID","INP","LCP","TTFB"];function s(e){let t,r=!1;return(...a)=>(r||(r=!0,t=e(...a)),t)}let l=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,o=e=>l.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function d(){let{href:e}=window.location,t=c();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function p(e){return e.finished||e.headersSent}function f(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function m(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await m(t.Component,t.ctx)}:{};let a=await e.getInitialProps(t);if(r&&p(r))return a;if(!a)throw Object.defineProperty(Error(`"${u(e)}.getInitialProps()" should resolve to an object. But found "${a}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a}let x="undefined"!=typeof performance,h=x&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class g extends Error{}class b extends Error{}class y extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class v extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class j extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function N(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return n}});let a=e.r(18967),i=e.r(52817);function n(e){if(!(0,a.isAbsoluteUrl)(e))return!0;try{let t=(0,a.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,i.hasBasePath)(r.pathname)}catch(e){return!1}}},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},22016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return g},useLinkStatus:function(){return y}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let n=e.r(90809),s=e.r(43476),l=n._(e.r(71645)),o=e.r(95057),c=e.r(8372),d=e.r(18581),u=e.r(18967),p=e.r(5550);e.r(33525);let f=e.r(91949),m=e.r(73668),x=e.r(65165);function h(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}function g(t){var r;let a,i,n,[o,g]=(0,l.useOptimistic)(f.IDLE_LINK_STATUS),y=(0,l.useRef)(null),{href:v,as:j,children:N,prefetch:k=null,passHref:w,replace:F,shallow:S,scroll:P,onClick:$,onMouseEnter:_,onTouchStart:R,legacyBehavior:C=!1,onNavigate:M,ref:E,unstable_dynamicOnHover:T,...O}=t;a=N,C&&("string"==typeof a||"number"==typeof a)&&(a=(0,s.jsx)("a",{children:a}));let L=l.default.useContext(c.AppRouterContext),I=!1!==k,A=!1!==k?null===(r=k)||"auto"===r?x.FetchStrategy.PPR:x.FetchStrategy.Full:x.FetchStrategy.PPR,{href:U,as:D}=l.default.useMemo(()=>{let e=h(v);return{href:e,as:j?h(j):e}},[v,j]);if(C){if(a?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});i=l.default.Children.only(a)}let J=C?i&&"object"==typeof i&&i.ref:E,V=l.default.useCallback(e=>(null!==L&&(y.current=(0,f.mountLinkInstance)(e,U,L,A,I,g)),()=>{y.current&&((0,f.unmountLinkForCurrentNavigation)(y.current),y.current=null),(0,f.unmountPrefetchableInstance)(e)}),[I,U,L,A,g]),z={ref:(0,d.useMergedRef)(V,J),onClick(t){C||"function"!=typeof $||$(t),C&&i.props&&"function"==typeof i.props.onClick&&i.props.onClick(t),!L||t.defaultPrevented||function(t,r,a,i,n,s,o){if("undefined"!=typeof window){let c,{nodeName:d}=t.currentTarget;if("A"===d.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,m.isLocalURL)(r)){n&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),o){let e=!1;if(o({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:u}=e.r(99781);l.default.startTransition(()=>{u(a||r,n?"replace":"push",s??!0,i.current)})}}(t,U,D,y,F,P,M)},onMouseEnter(e){C||"function"!=typeof _||_(e),C&&i.props&&"function"==typeof i.props.onMouseEnter&&i.props.onMouseEnter(e),L&&I&&(0,f.onNavigationIntent)(e.currentTarget,!0===T)},onTouchStart:function(e){C||"function"!=typeof R||R(e),C&&i.props&&"function"==typeof i.props.onTouchStart&&i.props.onTouchStart(e),L&&I&&(0,f.onNavigationIntent)(e.currentTarget,!0===T)}};return(0,u.isAbsoluteUrl)(D)?z.href=D:C&&!w&&("a"!==i.type||"href"in i.props)||(z.href=(0,p.addBasePath)(D)),n=C?l.default.cloneElement(i,z):(0,s.jsx)("a",{...O,...z,children:a}),(0,s.jsx)(b.Provider,{value:o,children:n})}e.r(84508);let b=(0,l.createContext)(f.IDLE_LINK_STATUS),y=()=>(0,l.useContext)(b);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},25652,e=>{"use strict";let t=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],25652)},39312,e=>{"use strict";let t=(0,e.i(75254).default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);e.s(["Zap",()=>t],39312)},95444,e=>{"use strict";let t=(0,e.i(75254).default)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);e.s(["Grid3X3",()=>t],95444)},11675,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(95983),i=e.i(64961),n=e.i(66403),s=e.i(85379),l=e.i(72514),o=e.i(27879),c=e.i(95444),d=e.i(25652);let u=(0,e.i(75254).default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);var p=e.i(71689),f=e.i(39312),m=e.i(22016);function x(){let[e,x]=(0,i.useLocalStorage)("grid_currentPrice_v2",""),[h,g]=(0,i.useLocalStorage)("grid_upperPrice_v2",""),[b,y]=(0,i.useLocalStorage)("grid_lowerPrice_v2",""),[v,j]=(0,i.useLocalStorage)("grid_rsi_v2","50"),[N,k]=(0,i.useLocalStorage)("grid_count_v2","15"),[w,F]=(0,i.useLocalStorage)("grid_investment_v2","10000"),[S,P]=(0,r.useState)(null),[$,_]=(0,r.useState)(!1),[R,C]=(0,r.useState)({}),[M,E]=(0,r.useState)(null),T=(0,r.useCallback)(async()=>{if((()=>{let t={};(0,s.validateNumber)(e,0).isValid||(t.currentPrice="请输入当前价格"),(0,s.validateNumber)(h,0).isValid||(t.upperPrice="请输入上限价格"),(0,s.validateNumber)(b,0).isValid||(t.lowerPrice="请输入下限价格");let r=(0,s.validateRSI)(v);if(!r.isValid&&v&&(t.rsi=r.message),(0,s.validateNumber)(N,2,50).isValid||(t.gridCount="网格数量必须在2-50之间"),(0,s.validateNumber)(w,100).isValid||(t.investment="投资金额最少100"),e&&h&&b){let r=parseFloat(e);parseFloat(h)<=parseFloat(b)&&(t.upperPrice="上限必须大于下限"),r<=0&&(t.currentPrice="价格必须大于0")}return C(t),0===Object.keys(t).length})()){_(!0),await new Promise(e=>setTimeout(e,300));try{let e=parseFloat(h),t=parseFloat(b),r=v?parseFloat(v):50,a=parseInt(N),i=parseFloat(w),s=(0,n.computeSmartGridRange)(r,e,t),l=(s.adjustedUpper-s.adjustedLower)/(a-1),o=[];for(let e=0;e<a;e++)o.push({level:e+1,price:s.adjustedLower+l*e,buyAmount:i/a/(s.adjustedLower+l*e)});let c=(0,n.calculateGridProfit)(s.adjustedLower,s.adjustedUpper,a,i,.001);P({original:{upper:e,lower:t},adjusted:s,grids:o,profit:c,rsi:r,investment:i})}catch(e){console.error("计算失败:",e),P({error:!0,message:"计算失败，请检查输入参数"})}finally{_(!1)}}},[h,b,v,N,w]);return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-black",children:(0,t.jsxs)("div",{className:"mx-auto max-w-2xl px-4 sm:px-6 py-4 sm:py-6",children:[(0,t.jsxs)("header",{className:"flex items-center justify-between mb-6 sm:mb-8",children:[(0,t.jsxs)(m.default,{href:"/",className:"inline-flex items-center gap-2 text-blue-500 font-medium active:scale-95 transition-transform",children:[(0,t.jsx)(p.ArrowLeft,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:"返回"})]}),(0,t.jsx)(a.ThemeToggle,{})]}),(0,t.jsx)("h1",{className:"ios-large-title mb-8",children:"网格策略"}),(0,t.jsxs)("div",{className:"ios-spacing-section",children:[(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"ios-section-header",children:"快速策略"}),(0,t.jsx)(l.QuickActions,{options:[{label:"保守型",value:"conservative"},{label:"稳健型",value:"balanced"},{label:"积极型",value:"aggressive"}],selected:M,onChange:t=>{if(E(t),"conservative"===t){if(j("30"),k("10"),e){let t=parseFloat(e);g((1.15*t).toFixed(2)),y((.85*t).toFixed(2))}}else if("balanced"===t){if(j("50"),k("15"),e){let t=parseFloat(e);g((1.2*t).toFixed(2)),y((.8*t).toFixed(2))}}else if("aggressive"===t&&(j("70"),k("20"),e)){let t=parseFloat(e);g((1.25*t).toFixed(2)),y((.75*t).toFixed(2))}},columns:3})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"ios-section-header",children:"价格区间"}),(0,t.jsxs)("div",{className:"ios-card ios-spacing-group",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"ios-input-label",children:"当前价格 (USDT)"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"number",inputMode:"decimal",placeholder:"ETH当前价格",value:e,onChange:e=>{x(e.target.value),E(null)},className:"ios-input w-full pl-10",step:"0.01"}),(0,t.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:"$"})]}),R.currentPrice&&(0,t.jsx)("p",{className:"text-xs text-red-500 mt-1",children:R.currentPrice})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"ios-input-label",children:"上限价格"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"number",inputMode:"decimal",placeholder:"上限",value:h,onChange:e=>{g(e.target.value),E(null)},className:"ios-input w-full pl-10",step:"0.01"}),(0,t.jsx)(d.TrendingUp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]}),R.upperPrice&&(0,t.jsx)("p",{className:"text-xs text-red-500 mt-1",children:R.upperPrice})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"ios-input-label",children:"下限价格"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"number",inputMode:"decimal",placeholder:"下限",value:b,onChange:e=>{y(e.target.value),E(null)},className:"ios-input w-full pl-10",step:"0.01"}),(0,t.jsx)(u,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]}),R.lowerPrice&&(0,t.jsx)("p",{className:"text-xs text-red-500 mt-1",children:R.lowerPrice})]})]})]})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"ios-section-header",children:"网格参数"}),(0,t.jsxs)("div",{className:"ios-card ios-spacing-group",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"ios-input-label",children:"网格数量"}),(0,t.jsx)("input",{type:"number",inputMode:"numeric",placeholder:"10-30个",value:N,onChange:e=>{k(e.target.value),E(null)},className:"ios-input w-full",step:"1",min:"2",max:"50"}),R.gridCount&&(0,t.jsx)("p",{className:"text-xs text-red-500 mt-1",children:R.gridCount})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"ios-input-label",children:"投资金额 (USDT)"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"number",inputMode:"numeric",placeholder:"总投资金额",value:w,onChange:e=>F(e.target.value),className:"ios-input w-full pl-10",step:"100"}),(0,t.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:"$"})]}),R.investment&&(0,t.jsx)("p",{className:"text-xs text-red-500 mt-1",children:R.investment})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"ios-input-label",children:"RSI 指标 (可选)"}),(0,t.jsx)("input",{type:"number",inputMode:"decimal",placeholder:"用于智能优化区间",value:v,onChange:e=>{j(e.target.value),E(null)},className:"ios-input w-full",step:"0.01"}),R.rsi&&(0,t.jsx)("p",{className:"text-xs text-red-500 mt-1",children:R.rsi})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:T,disabled:$||!e||!h||!b,className:"ios-button-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,t.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(f.Zap,{className:"w-5 h-5"}),$?"计算中...":"生成策略"]})}),S&&(0,t.jsx)("button",{onClick:()=>{P(null),C({})},className:"ios-button-secondary",children:"清除"})]}),S&&!S.error&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"ios-section-header",children:"智能优化"}),(0,t.jsxs)("div",{className:"ios-card",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"原始区间"}),(0,t.jsxs)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["$",S.original.lower.toFixed(2)," - $",S.original.upper.toFixed(2)]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"优化区间"}),(0,t.jsxs)("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:["$",S.adjusted.adjustedLower.toFixed(2)," - $",S.adjusted.adjustedUpper.toFixed(2)]})]})]}),v&&(0,t.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400 bg-blue-50 dark:bg-blue-900/10 rounded-lg p-3",children:["基于RSI(",S.rsi,")智能调整区间宽度 ",S.adjusted.scaleRatio,"x"]})]})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"ios-section-header",children:"收益分析"}),(0,t.jsx)(o.ResultCard,{type:"profit",title:"预期收益",value:`${S.profit.profitRate}%`,subtitle:`单格收益 $${S.profit.profitPerGrid}`,icon:(0,t.jsx)(c.Grid3X3,{}),expandable:!0,details:[{label:"网格差价",value:`$${S.profit.gridSpacing}`},{label:"年化收益",value:`${S.profit.annualizedRate}%`},{label:"回本天数",value:`${S.profit.breakEvenDays}天`},{label:"网格数量",value:`${S.grids.length}个`},{label:"总投资",value:`$${S.investment}`}]})]}),(0,t.jsx)("div",{className:"bg-amber-50 dark:bg-amber-900/10 border border-amber-200 dark:border-amber-800/30 rounded-2xl p-4",children:(0,t.jsx)("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"⚠️ 网格交易适合震荡行情，单边行情可能产生亏损。本工具仅供参考，投资有风险。"})})]}),S&&S.error&&(0,t.jsx)("div",{className:"bg-red-50 dark:bg-red-900/10 border border-red-200 dark:border-red-800/30 rounded-2xl p-4",children:(0,t.jsx)("p",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:S.message})}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"ios-section-header",children:"使用说明"}),(0,t.jsx)("div",{className:"ios-card",children:(0,t.jsxs)("div",{className:"space-y-3 text-sm text-gray-600 dark:text-gray-400",children:[(0,t.jsxs)("p",{children:["• ",(0,t.jsx)("strong",{children:"快速策略："}),"一键应用保守/稳健/积极三种策略"]}),(0,t.jsxs)("p",{children:["• ",(0,t.jsx)("strong",{children:"价格区间："}),"设置网格交易的上下限价格"]}),(0,t.jsxs)("p",{children:["• ",(0,t.jsx)("strong",{children:"RSI优化："}),"基于RSI指标智能调整网格区间"]}),(0,t.jsxs)("p",{children:["• ",(0,t.jsx)("strong",{children:"收益预测："}),"显示预期收益率和回本时间"]})]})})]})]})]})})}e.s(["default",()=>x],11675)}]);