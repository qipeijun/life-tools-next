(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},75254,e=>{"use strict";var t=e.i(71645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},a=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:o,iconNode:c,...d},u)=>(0,t.createElement)("svg",{ref:u,...n,width:r,height:r,stroke:e,strokeWidth:s?24*Number(i)/Number(r):i,className:a("lucide",l),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(o)?o:[o]])),s=(e,n)=>{let s=(0,t.forwardRef)(({className:s,...l},o)=>(0,t.createElement)(i,{ref:o,iconNode:n,className:a(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s),...l}));return s.displayName=r(e),s};e.s(["default",()=>s],75254)},98183,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={assign:function(){return o},searchParamsToUrlQuery:function(){return i},urlQueryToSearchParams:function(){return l}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});function i(e){let t={};for(let[r,a]of e.entries()){let e=t[r];void 0===e?t[r]=a:Array.isArray(e)?e.push(a):t[r]=[e,a]}return t}function s(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function l(e){let t=new URLSearchParams;for(let[r,a]of Object.entries(e))if(Array.isArray(a))for(let e of a)t.append(r,s(e));else t.set(r,s(a));return t}function o(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,a]of r.entries())e.append(t,a)}return e}},95057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={formatUrl:function(){return l},formatWithValidation:function(){return c},urlObjectKeys:function(){return o}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let i=e.r(90809)._(e.r(98183)),s=/https?|ftp|gopher|file/;function l(e){let{auth:t,hostname:r}=e,a=e.protocol||"",n=e.pathname||"",l=e.hash||"",o=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),o&&"object"==typeof o&&(o=String(i.urlQueryToSearchParams(o)));let d=e.search||o&&`?${o}`||"";return a&&!a.endsWith(":")&&(a+=":"),e.slashes||(!a||s.test(a))&&!1!==c?(c="//"+(c||""),n&&"/"!==n[0]&&(n="/"+n)):c||(c=""),l&&"#"!==l[0]&&(l="#"+l),d&&"?"!==d[0]&&(d="?"+d),n=n.replace(/[?#]/g,encodeURIComponent),d=d.replace("#","%23"),`${a}${c}${n}${d}${l}`}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return l(e)}},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return n}});let a=e.r(71645);function n(e,t){let r=(0,a.useRef)(null),n=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(r.current=i(e,a)),t&&(n.current=i(t,a))},[e,t])}function i(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={DecodeError:function(){return p},MiddlewareNotFoundError:function(){return j},MissingStaticPage:function(){return v},NormalizeError:function(){return b},PageNotFoundError:function(){return y},SP:function(){return g},ST:function(){return h},WEB_VITALS:function(){return i},execOnce:function(){return s},getDisplayName:function(){return u},getLocationOrigin:function(){return c},getURL:function(){return d},isAbsoluteUrl:function(){return o},isResSent:function(){return f},loadGetInitialProps:function(){return x},normalizeRepeatedSlashes:function(){return m},stringifyError:function(){return k}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let i=["CLS","FCP","FID","INP","LCP","TTFB"];function s(e){let t,r=!1;return(...a)=>(r||(r=!0,t=e(...a)),t)}let l=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,o=e=>l.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function d(){let{href:e}=window.location,t=c();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function f(e){return e.finished||e.headersSent}function m(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function x(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await x(t.Component,t.ctx)}:{};let a=await e.getInitialProps(t);if(r&&f(r))return a;if(!a)throw Object.defineProperty(Error(`"${u(e)}.getInitialProps()" should resolve to an object. But found "${a}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a}let g="undefined"!=typeof performance,h=g&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class p extends Error{}class b extends Error{}class y extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class v extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class j extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function k(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return i}});let a=e.r(18967),n=e.r(52817);function i(e){if(!(0,a.isAbsoluteUrl)(e))return!0;try{let t=(0,a.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,n.hasBasePath)(r.pathname)}catch(e){return!1}}},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},22016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return p},useLinkStatus:function(){return y}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let i=e.r(90809),s=e.r(43476),l=i._(e.r(71645)),o=e.r(95057),c=e.r(8372),d=e.r(18581),u=e.r(18967),f=e.r(5550);e.r(33525);let m=e.r(91949),x=e.r(73668),g=e.r(65165);function h(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}function p(t){var r;let a,n,i,[o,p]=(0,l.useOptimistic)(m.IDLE_LINK_STATUS),y=(0,l.useRef)(null),{href:v,as:j,children:k,prefetch:N=null,passHref:S,replace:w,shallow:F,scroll:$,onClick:P,onMouseEnter:C,onTouchStart:M,legacyBehavior:T=!1,onNavigate:R,ref:E,unstable_dynamicOnHover:_,...O}=t;a=k,T&&("string"==typeof a||"number"==typeof a)&&(a=(0,s.jsx)("a",{children:a}));let I=l.default.useContext(c.AppRouterContext),L=!1!==N,A=!1!==N?null===(r=N)||"auto"===r?g.FetchStrategy.PPR:g.FetchStrategy.Full:g.FetchStrategy.PPR,{href:D,as:U}=l.default.useMemo(()=>{let e=h(v);return{href:e,as:j?h(j):e}},[v,j]);if(T){if(a?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});n=l.default.Children.only(a)}let z=T?n&&"object"==typeof n&&n.ref:E,J=l.default.useCallback(e=>(null!==I&&(y.current=(0,m.mountLinkInstance)(e,D,I,A,L,p)),()=>{y.current&&((0,m.unmountLinkForCurrentNavigation)(y.current),y.current=null),(0,m.unmountPrefetchableInstance)(e)}),[L,D,I,A,p]),V={ref:(0,d.useMergedRef)(J,z),onClick(t){T||"function"!=typeof P||P(t),T&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(t),!I||t.defaultPrevented||function(t,r,a,n,i,s,o){if("undefined"!=typeof window){let c,{nodeName:d}=t.currentTarget;if("A"===d.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,x.isLocalURL)(r)){i&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),o){let e=!1;if(o({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:u}=e.r(99781);l.default.startTransition(()=>{u(a||r,i?"replace":"push",s??!0,n.current)})}}(t,D,U,y,w,$,R)},onMouseEnter(e){T||"function"!=typeof C||C(e),T&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),I&&L&&(0,m.onNavigationIntent)(e.currentTarget,!0===_)},onTouchStart:function(e){T||"function"!=typeof M||M(e),T&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),I&&L&&(0,m.onNavigationIntent)(e.currentTarget,!0===_)}};return(0,u.isAbsoluteUrl)(U)?V.href=U:T&&!S&&("a"!==n.type||"href"in n.props)||(V.href=(0,f.addBasePath)(U)),i=T?l.default.cloneElement(n,V):(0,s.jsx)("a",{...O,...V,children:a}),(0,s.jsx)(b.Provider,{value:o,children:i})}e.r(84508);let b=(0,l.createContext)(m.IDLE_LINK_STATUS),y=()=>(0,l.useContext)(b);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},95983,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(75254);let n=(0,a.default)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),i=(0,a.default)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),s=r.default.memo(function(){let[e,a]=(0,r.useState)(!1),[s,l]=(0,r.useState)(!1);(0,r.useEffect)(()=>{l(!0);let e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches,r="dark"===e||!e&&t;a(r),document.documentElement.classList.toggle("dark",r)},[]);let o=(0,r.useCallback)(()=>{let t=!e;a(t),document.documentElement.classList.toggle("dark",t),localStorage.setItem("theme",t?"dark":"light")},[e]);return s?(0,t.jsx)("button",{onClick:o,className:"w-10 h-10 rounded-ios-button bg-ios-bg-tertiary dark:bg-ios-dark-bg-tertiary flex items-center justify-center text-ios-text-primary dark:text-ios-dark-text-primary hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200 transform active:scale-95","aria-label":e?"切换到亮色模式":"切换到暗色模式",children:e?(0,t.jsx)(n,{className:"w-5 h-5"}):(0,t.jsx)(i,{className:"w-5 h-5"})}):(0,t.jsx)("div",{className:"w-10 h-10 rounded-ios-button bg-ios-bg-tertiary dark:bg-ios-dark-bg-tertiary animate-pulse"})});e.s(["ThemeToggle",0,s],95983)},64961,66403,85379,71689,e=>{"use strict";var t=e.i(71645);function r(e,r){let[a,n]=(0,t.useState)(()=>{try{let t=window.localStorage.getItem(e);return t?JSON.parse(t):r}catch(t){return console.warn(`Error reading localStorage key "${e}":`,t),r}});return[a,t=>{try{n(t),window.localStorage.setItem(e,JSON.stringify(t))}catch(t){console.warn(`Error setting localStorage key "${e}":`,t)}}]}function a(e,t,r=0,n="day",i={}){let{overboughtThreshold:s=80,oversoldThreshold:l=20,sensitivity:o=50}=i,c=parseFloat(e),d=parseFloat(t),u={signal:"neutral",advice:"中性信号，建议观望",confidence:.5};return c<=20&&d<=l?(u.signal="strong_buy",u.advice=`强烈买入信号：J值(${c.toFixed(1)})和RSI(${d.toFixed(1)})均处于严重超卖区域`,u.confidence=.9):c<=30||d<=35?(u.signal="buy",u.advice=`买入信号：J值(${c.toFixed(1)})或RSI(${d.toFixed(1)})处于超卖区域`,u.confidence=.7):c>=80&&d>=s?(u.signal="strong_sell",u.advice=`强烈卖出信号：J值(${c.toFixed(1)})和RSI(${d.toFixed(1)})均处于严重超买区域`,u.confidence=.9):c>=70||d>=70?(u.signal="sell",u.advice=`卖出信号：J值(${c.toFixed(1)})或RSI(${d.toFixed(1)})处于超买区域`,u.confidence=.7):(d>=45&&d<=55?u.advice=`市场处于平衡状态，J值(${c.toFixed(1)})，RSI(${d.toFixed(1)})在正常区间，建议观望`:d>55?u.advice=`市场偏强势，J值(${c.toFixed(1)})，RSI(${d.toFixed(1)})偏高，可考虑逢高减仓`:u.advice=`市场偏弱势，J值(${c.toFixed(1)})，RSI(${d.toFixed(1)})偏低，可考虑逢低吸纳`,u.confidence=.4),r>0&&(u.confidence=Math.min(.95,u.confidence+.1)),u}function n(e,t,r,a=.1,i=.2){let s=(t+r)/2,l=(e-50)/50*a,o=1+Math.abs(e-50)/50*i,c=(t-r)*o,d=c*(l=Math.max(-a,Math.min(a,l)))/2,u=+(s-c/2-d).toFixed(2),f=+(s+c/2-d).toFixed(2);return{adjustedUpper:f,adjustedLower:u,adjustedWidth:+(f-u).toFixed(2),scaleRatio:+o.toFixed(4),offsetRatio:+l.toFixed(4)}}function i(e,t,r,a={type:"ratio",value:3e-4}){let n,s;"fixed"===a.type?(n=a.value,s=a.value):(n=e*r*a.value,s=t*r*a.value);let l=t*r*.001,o=e*r+n,c=t*r-s-l,d=c-o,u=d/o*100,f=n+s+l,m=(o+s+l)/r;return{buyCost:o.toFixed(2),sellIncome:c.toFixed(2),profit:d.toFixed(2),profitRate:u.toFixed(2),buyFee:n.toFixed(2),sellFee:s.toFixed(2),stampDuty:l.toFixed(2),totalFee:f.toFixed(2),breakEvenPrice:m.toFixed(3),commissionAmount:f.toFixed(2)}}function s(e,t,r,a={type:"ratio",value:3e-4}){let n,l,o=parseFloat(e),c=parseInt(t),d=parseFloat(r)/100;n="fixed"===a.type?a.value:o*c*a.value;let u=o*c+n,f=u+u*d,m=i(o,l="fixed"===a.type?(f+a.value)/(.999*c):f/(c*(1-a.value-.001)),c,a);return{requiredSellPrice:l.toFixed(3),targetProfitRate:r.toFixed(2),...m}}function l(e,t=25){let r=new Date(e),a=new Date(r.getTime()-6e4*t);return{appointmentTime:a,targetTime:r,makingTime:t,timeRemaining:a-new Date}}function o(e,t,r,a,n=14,i=0,s="day",l={}){let{overboughtThreshold:c=70,oversoldThreshold:d=30,sensitivity:u=50}=l,f=void 0!==e?parseFloat(e):void 0,m=void 0!==t?parseFloat(t):void 0,x=parseFloat(r),g=parseFloat(a),h={signal:"neutral",advice:"中性信号，建议观望",confidence:.5,details:{kdjStatus:"",rsiStatus:""}},p=0,b="";void 0!==f&&void 0!==m?(f>m&&x>0?(b="金叉向上",p=2):f<m&&x<0?(b="死叉向下",p=-2):f>m?(b="偏强",p=1):(b="偏弱",p=-1),x>=100?(b+="（严重超买）",p-=2):x<=-100?(b+="（严重超卖）",p+=2):x>=80?(b+="（超买）",p-=1):x<=20&&(b+="（超卖）",p+=1)):x>=80?(b="J值超买",p=-1):x<=20?(b="J值超卖",p=1):(b="J值中性",p=0),h.details.kdjStatus=b;let y=0,v="";g>=c?g>=85?(v="严重超买",y=-2):(v="超买",y=-1):g<=d?g<=15?(v="严重超卖",y=2):(v="超卖",y=1):(v="中性",y=0),h.details.rsiStatus=v;let j=p+y;return j>=3?(h.signal="strong_buy",h.advice=`强烈买入信号：${b}，${v}，多项指标显示强烈看涨`,h.confidence=.85):j>=1?(h.signal="buy",h.advice=`买入信号：${b}，${v}，指标显示看涨趋势`,h.confidence=.7):j<=-3?(h.signal="strong_sell",h.advice=`强烈卖出信号：${b}，${v}，多项指标显示强烈看跌`,h.confidence=.85):j<=-1?(h.signal="sell",h.advice=`卖出信号：${b}，${v}，指标显示看跌趋势`,h.confidence=.7):(h.advice=`中性信号：${b}，${v}，市场处于平衡状态，建议观望`,h.confidence=.5),i>0&&(h.confidence=Math.min(.95,h.confidence+.05)),h.confidence=Math.min(.95,h.confidence*({minute:.8,hour:.9,day:1,week:1.1,month:1.2})[s]||1),h}function c(e,t,r,a,n=.001){let i=(t-e)/(r-1),s=a/r,l=i*s/((e+t)/2)-i*s/((e+t)/2)*n*2,o=l*r/a*100,d=50*o,u=0!==o?Math.ceil(100/Math.abs(o)):1/0;return{gridSpacing:i.toFixed(2),profitPerGrid:l.toFixed(2),profitRate:o.toFixed(2),annualizedRate:d.toFixed(2),breakEvenDays:u,perGridInvestment:s.toFixed(2)}}function d(e,t=0,r=1/0){let a=parseFloat(e);return isNaN(a)?{isValid:!1,message:"请输入有效数字"}:a<t?{isValid:!1,message:`数值不能小于${t}`}:a>r?{isValid:!1,message:`数值不能大于${r}`}:{isValid:!0,value:a}}function u(e){return d(e,0,100)}function f(e){if(!/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/.test(e))return{isValid:!1,message:"请输入有效时间 (HH:MM)"};let[t,r]=e.split(":").map(Number);return t<0||t>23?{isValid:!1,message:"小时必须在0-23之间"}:r<0||r>59?{isValid:!1,message:"分钟必须在0-59之间"}:{isValid:!0,value:e}}e.s(["useLocalStorage",()=>r],64961),e.s(["calculateGridProfit",()=>c,"calculateKDJ",()=>a,"calculateKDJPro",()=>o,"calculateRequiredSellPrice",()=>s,"calculateSoyMilkTime",()=>l,"calculateTDayProfit",()=>i,"computeSmartGridRange",()=>n],66403),e.s(["validateNumber",()=>d,"validateRSI",()=>u,"validateTime",()=>f],85379);let m=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>m],71689)},72514,27879,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(80064);let n=(0,r.memo)(function({options:e=[],selected:r,onChange:n,className:i="",columns:s=3,...l}){let o=(0,a.cn)("grid gap-3",2===s&&"grid-cols-2",3===s&&"grid-cols-3",4===s&&"grid-cols-4",i);return(0,t.jsx)("div",{className:o,...l,children:e.map(e=>{let i;return(0,t.jsxs)("button",{type:"button",onClick:()=>n(e.value),className:(i=e.value===r,(0,a.cn)("h-12","px-4","flex items-center justify-center","rounded-xl","font-semibold text-base","transition-all duration-200","touch-manipulation","select-none","active:scale-95",i?"bg-blue-500 text-white shadow-sm":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300",i&&"ios-bg-blue")),"aria-pressed":e.value===r,children:[e.icon&&(0,t.jsx)("span",{className:"mr-2",children:e.icon}),(0,t.jsx)("span",{children:e.label})]},e.value)})})});n.displayName="QuickActions",e.s(["QuickActions",0,n],72514);var i=e.i(75254);let s=(0,i.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),l=(0,i.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),o=(0,r.memo)(function({type:e="neutral",title:n,value:i,subtitle:o,details:c=[],expandable:d=!1,defaultExpanded:u=!1,icon:f,className:m="",...x}){let[g,h]=(0,r.useState)(u),p={profit:{bg:"bg-green-50 dark:bg-green-900/10",border:"border-green-100 dark:border-green-800/30",text:"text-green-600 dark:text-green-400",icon:"text-green-500"},loss:{bg:"bg-red-50 dark:bg-red-900/10",border:"border-red-100 dark:border-red-800/30",text:"text-red-600 dark:text-red-400",icon:"text-red-500"},neutral:{bg:"bg-gray-50 dark:bg-gray-800/50",border:"border-gray-100 dark:border-gray-700/30",text:"text-gray-700 dark:text-gray-300",icon:"text-gray-500"}},b=p[e]||p.neutral,y=(0,a.cn)("rounded-2xl p-6","border","transition-all duration-200",b.bg,b.border,m);return(0,t.jsxs)("div",{className:y,...x,children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[f&&(0,t.jsx)("span",{className:(0,a.cn)("text-xl",b.icon),children:f}),(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:n})]})}),(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("div",{className:(0,a.cn)("text-4xl font-bold tracking-tight",b.text),children:i}),o&&(0,t.jsx)("div",{className:(0,a.cn)("text-xl font-semibold mt-1",b.text),children:o})]}),c.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"my-4 border-t border-gray-200 dark:border-gray-700"}),(0,t.jsx)("div",{className:(0,a.cn)("space-y-3 overflow-hidden transition-all duration-300",!g&&d&&"max-h-0 opacity-0",g&&"max-h-96 opacity-100"),children:c.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:e.label}),(0,t.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:e.value})]},r))}),d&&(0,t.jsxs)("button",{type:"button",onClick:()=>h(!g),className:(0,a.cn)("w-full mt-4 py-2","flex items-center justify-center gap-1","text-sm font-medium","text-gray-500 dark:text-gray-400","hover:text-gray-700 dark:hover:text-gray-300","transition-colors","active:scale-95"),children:[(0,t.jsx)("span",{children:g?"收起":"查看详情"}),g?(0,t.jsx)(l,{className:"w-4 h-4"}):(0,t.jsx)(s,{className:"w-4 h-4"})]})]})]})});o.displayName="ResultCard",e.s(["ResultCard",0,o],27879)},96139,e=>{"use strict";let t=(0,e.i(75254).default)("coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);e.s(["Coffee",()=>t],96139)},76180,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(80064);let n=(0,r.memo)(function({options:e=[],selected:r,onChange:n,className:i="",size:s="md",fullWidth:l=!0,...o}){let c=(0,a.cn)("inline-flex p-0.5","bg-gray-100 dark:bg-gray-800","rounded-lg","relative",{sm:"h-8 text-xs",md:"h-9 text-sm",lg:"h-10 text-base"}[s],l&&"w-full",i),d=e.findIndex(e=>e.value===r);return(0,t.jsxs)("div",{className:c,...o,children:[(0,t.jsx)("div",{className:(0,a.cn)("absolute inset-y-0.5 z-0","bg-white dark:bg-gray-700","rounded-md","transition-all duration-200 ease-out","shadow-sm"),style:{left:`calc(${100*d/e.length}% + 2px)`,width:`calc(${100/e.length}% - 4px)`}}),e.map(e=>{let i;return(0,t.jsx)("button",{type:"button",onClick:()=>n(e.value),className:(i=e.value===r,(0,a.cn)("relative z-10","flex-1 px-3","flex items-center justify-center","font-semibold","transition-colors duration-200","cursor-pointer","select-none","touch-manipulation","text-sm",i?"text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400",!i&&"active:text-gray-700 dark:active:text-gray-300")),"aria-pressed":e.value===r,children:e.label},e.value)})]})});n.displayName="SegmentedControl",e.s(["SegmentedControl",0,n])},3622,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(95983),n=e.i(64961),i=e.i(66403),s=e.i(85379),l=e.i(72514),o=e.i(76180),c=e.i(27879),d=e.i(96139),u=e.i(75254);let f=(0,u.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var m=e.i(71689);let x=(0,u.default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);var g=e.i(22016);function h(){let[e,u]=(0,n.useLocalStorage)("soymilk_targetTime",""),[h,p]=(0,n.useLocalStorage)("soymilk_makingTime","25"),[b,y]=(0,r.useState)(null),[v,j]=(0,r.useState)({}),[k,N]=(0,r.useState)(null),[S,w]=(0,r.useState)(null),[F,$]=(0,r.useState)(!1),[P,C]=(0,r.useState)(null),[M,T]=(0,r.useState)("standard");(0,r.useEffect)(()=>{$(!0)},[]),(0,r.useEffect)(()=>{if(!F)return;N(new Date);let e=setInterval(()=>{N(new Date)},1e3);return()=>clearInterval(e)},[F]),(0,r.useEffect)(()=>{if(b&&b.timeRemaining>0){w(b.timeRemaining);let e=setInterval(()=>{w(e=>Math.max(0,e-1e3))},1e3);return()=>clearInterval(e)}},[b]);let R=e=>{if(!e)return"--:--";let t=e.getHours().toString().padStart(2,"0"),r=e.getMinutes().toString().padStart(2,"0");return`${t}:${r}`},E=b&&b.appointmentTime<=new Date;return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-black",children:(0,t.jsxs)("div",{className:"mx-auto max-w-2xl px-4 sm:px-6 py-4 sm:py-6",children:[(0,t.jsxs)("header",{className:"flex items-center justify-between mb-6 sm:mb-8",children:[(0,t.jsxs)(g.default,{href:"/",className:"inline-flex items-center gap-2 text-blue-500 font-medium active:scale-95 transition-transform",children:[(0,t.jsx)(m.ArrowLeft,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:"返回"})]}),(0,t.jsx)(a.ThemeToggle,{})]}),(0,t.jsx)("h1",{className:"ios-large-title mb-8",children:"☕️ 豆浆助手"}),(0,t.jsxs)("div",{className:"ios-spacing-section",children:[(0,t.jsx)("section",{children:(0,t.jsx)("div",{className:"ios-card bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/10 dark:to-orange-900/10 border-amber-200 dark:border-amber-800/30",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-sm text-amber-700 dark:text-amber-400 mb-2",children:"当前时间"}),(0,t.jsx)("div",{className:"text-4xl font-bold text-amber-900 dark:text-amber-100 tabular-nums",suppressHydrationWarning:!0,children:R(k)})]})})}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"ios-section-header",children:"快速选择"}),(0,t.jsx)(l.QuickActions,{options:[{label:"早餐",value:"07:30"},{label:"午餐",value:"12:30"},{label:"晚餐",value:"18:30"}],selected:P,onChange:e=>{C(e),u(e)},columns:3})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"ios-section-header",children:"饮用时间"}),(0,t.jsxs)("div",{className:"ios-card",children:[(0,t.jsx)("label",{className:"ios-input-label",children:"目标时间"}),(0,t.jsx)("input",{type:"time",value:e,onChange:e=>{u(e.target.value),C(null)},className:"ios-input w-full text-center text-2xl"}),v.targetTime&&(0,t.jsx)("p",{className:"text-xs text-red-500 mt-2",children:v.targetTime})]})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"ios-section-header",children:"制作时长"}),(0,t.jsxs)("div",{className:"ios-card ios-spacing-group",children:[(0,t.jsx)(o.SegmentedControl,{options:[{label:"快速",value:"fast"},{label:"标准",value:"standard"},{label:"浓浆",value:"thick"}],selected:M,onChange:e=>{T(e),p({fast:"15",standard:"25",thick:"35"}[e])}}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[h," 分钟"]}),(0,t.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["fast"===M&&"适合少量豆浆","standard"===M&&"常规制作时长","thick"===M&&"口感更浓郁"]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{if((()=>{let t={};if(e){let r=(0,s.validateTime)(e);r.isValid||(t.targetTime=r.message)}else t.targetTime="请选择目标饮用时间";return(0,s.validateNumber)(h,1,120).isValid||(t.makingTime="制作时长必须在1-120分钟之间"),j(t),0===Object.keys(t).length})())try{let t=new Date,[r,a]=e.split(":"),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),parseInt(r),parseInt(a));n<=new Date&&n.setDate(n.getDate()+1);let s=(0,i.calculateSoyMilkTime)(n.toISOString(),parseInt(h));y(s),w(s.timeRemaining)}catch(e){console.error("计算失败:",e),y({error:!0,message:"计算失败，请检查输入参数"})}},disabled:!e,className:"ios-button-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,t.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(x,{className:"w-5 h-5"}),"计算预约时间"]})}),b&&(0,t.jsx)("button",{onClick:()=>{y(null),w(null),j({})},className:"ios-button-secondary",children:"清除"})]}),b&&!b.error&&(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"ios-section-header",children:"预约时间"}),(0,t.jsx)("div",{className:"ios-card bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/10 dark:to-indigo-900/10 border-blue-200 dark:border-blue-800/30 mb-4",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-3",children:[(0,t.jsx)(f,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),(0,t.jsx)("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-400",children:E?"⚠️ 需立即开始":"预约开始时间"})]}),(0,t.jsx)("div",{className:"text-5xl font-bold text-blue-900 dark:text-blue-100 mb-2 tabular-nums",children:R(b.appointmentTime)}),(0,t.jsx)("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:E?"预约时间已过，建议立即开始制作":"豆浆机开始制作的时间"})]})}),!E&&null!==S&&(0,t.jsx)("div",{className:"ios-card bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/10 dark:to-emerald-900/10 border-green-200 dark:border-green-800/30",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-sm text-green-700 dark:text-green-400 mb-2",children:"距离预约开始还有"}),(0,t.jsx)("div",{className:"text-4xl font-bold text-green-900 dark:text-green-100 tabular-nums",suppressHydrationWarning:!0,children:(e=>{if(!e||e<=0)return"已过期";let t=Math.floor(e/36e5),r=Math.floor(e%36e5/6e4),a=Math.floor(e%6e4/1e3);return t>0?`${t}:${r.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`:`${r}:${a.toString().padStart(2,"0")}`})(S)})]})}),(0,t.jsx)(c.ResultCard,{type:"neutral",title:"预约详情",value:`${h} 分钟`,subtitle:"制作时长",icon:(0,t.jsx)(d.Coffee,{}),details:[{label:"饮用时间",value:R(b.targetTime)},{label:"预计完成",value:`约 ${Math.ceil(.2*parseInt(h))} 分钟后可饮用`}]})]}),b&&b.error&&(0,t.jsx)("div",{className:"bg-red-50 dark:bg-red-900/10 border border-red-200 dark:border-red-800/30 rounded-2xl p-4",children:(0,t.jsx)("p",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:b.message})}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"ios-section-header",children:"使用提示"}),(0,t.jsx)("div",{className:"ios-card",children:(0,t.jsxs)("div",{className:"space-y-3 text-sm text-gray-600 dark:text-gray-400",children:[(0,t.jsxs)("p",{children:["• ",(0,t.jsx)("strong",{children:"快速选择："}),"一键选择常用的饮用时间"]}),(0,t.jsxs)("p",{children:["• ",(0,t.jsx)("strong",{children:"制作模式："}),"根据豆浆机型号选择合适的时长"]}),(0,t.jsxs)("p",{children:["• ",(0,t.jsx)("strong",{children:"倒计时："}),"实时显示距离预约开始的剩余时间"]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 pt-2 border-t border-gray-200 dark:border-gray-700",children:"💡 建议提前5分钟准备好材料"})]})})]})]})]})})}e.s(["default",()=>h],3622)}]);