(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,46209,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},47155,50466,e=>{"use strict";var t=e.i(48216),s=e.i(65933);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},r=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim();var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:n="",children:d,iconNode:c,...o},m)=>(0,s.createElement)("svg",{ref:m,...i,width:t,height:t,stroke:e,strokeWidth:l?24*Number(a)/Number(t):a,className:r("lucide",n),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(o)&&{"aria-hidden":"true"},...o},[...c.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(d)?d:[d]])),n=(e,t)=>{let i=(0,s.forwardRef)(({className:i,...n},d)=>(0,s.createElement)(l,{ref:d,iconNode:t,className:r(`lucide-${a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...n}));return i.displayName=a(e),i};e.s(["default",()=>n],50466);let d=n("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),c=n("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),o=s.default.memo(function(){let[e,a]=(0,s.useState)(!1),[r,i]=(0,s.useState)(!1);(0,s.useEffect)(()=>{i(!0);let e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches,s="dark"===e||!e&&t;a(s),document.documentElement.classList.toggle("dark",s)},[]);let l=(0,s.useCallback)(()=>{let t=!e;a(t),document.documentElement.classList.toggle("dark",t),localStorage.setItem("theme",t?"dark":"light")},[e]);return r?(0,t.jsx)("button",{onClick:l,className:"w-10 h-10 rounded-ios-button bg-ios-bg-tertiary dark:bg-ios-dark-bg-tertiary flex items-center justify-center text-ios-text-primary dark:text-ios-dark-text-primary hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200 transform active:scale-95","aria-label":e?"切换到亮色模式":"切换到暗色模式",children:e?(0,t.jsx)(d,{className:"w-5 h-5"}):(0,t.jsx)(c,{className:"w-5 h-5"})}):(0,t.jsx)("div",{className:"w-10 h-10 rounded-ios-button bg-ios-bg-tertiary dark:bg-ios-dark-bg-tertiary animate-pulse"})});e.s(["ThemeToggle",0,o],47155)},21559,28820,18887,42538,8430,58036,e=>{"use strict";var t=e.i(48216),s=e.i(65933),a=e.i(84710);let r=(0,s.memo)(function({children:e,className:s="",padding:r="normal",hover:i=!1,mobile:l=!1,...n}){let d=(0,a.cn)("card",l&&"rounded-2xl p-4",i&&"card-hover",{none:"",small:"p-4",normal:"p-6",large:"p-8"}[r],s);return(0,t.jsx)("div",{className:d,...n,children:e})}),i=(0,s.memo)(function({children:e,className:s="",mobile:r=!1,...i}){return(0,t.jsx)("div",{className:(0,a.cn)("card-header",r&&"p-4",s),...i,children:e})}),l=(0,s.memo)(function({children:e,className:s="",mobile:r=!1,...i}){return(0,t.jsx)("div",{className:(0,a.cn)("card-body",r&&"p-4",s),...i,children:e})});e.s(["Card",0,r,"CardBody",0,l,"CardHeader",0,i],21559);let n=(0,s.memo)(function({label:e,placeholder:r,type:i="text",value:l,onChange:n,onBlur:d,onFocus:c,error:o="",className:m="",required:x=!1,disabled:u=!1,icon:h=null,mobile:g=!1,...f}){let b=(0,s.useCallback)(e=>{n&&n(e)},[n]),p=(0,s.useCallback)(e=>{d&&d(e)},[d]),j=(0,s.useCallback)(e=>{c&&c(e)},[c]),y=(0,a.cn)("w-full px-4 py-3 rounded-xl border border-gray-300/70 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm text-base transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/70 disabled:opacity-50 disabled:cursor-not-allowed placeholder:text-muted-foreground/60","min-h-[52px] text-lg",g&&"h-14 px-4 py-3 text-base min-h-[56px] rounded-2xl",o&&"border-error/70 focus:ring-error/50 focus:border-error",h&&"pl-12",m);return(0,t.jsxs)("div",{className:(0,a.cn)("space-y-2 w-full",m),children:[e&&(0,t.jsxs)("label",{className:"block text-sm font-medium text-foreground/80",children:[e,x&&(0,t.jsx)("span",{className:"text-error ml-1",children:"*"})]}),(0,t.jsxs)("div",{className:"relative w-full",children:[h&&(0,t.jsx)("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground/70",children:h}),(0,t.jsx)("input",{type:i,placeholder:r,value:l,onChange:b,onBlur:p,onFocus:j,disabled:u,className:y,...f})]}),o&&(0,t.jsx)("p",{className:"text-sm text-error mt-1",children:o})]})},(e,t)=>e.value===t.value&&e.error===t.error&&e.disabled===t.disabled&&e.mobile===t.mobile&&e.label===t.label&&e.placeholder===t.placeholder&&e.type===t.type&&e.required===t.required&&e.icon===t.icon);e.s(["Input",0,n],28820);let d=(0,s.memo)(function({children:e,variant:r="primary",size:i="md",disabled:l=!1,loading:n=!1,className:d="",icon:c,onClick:o,type:m="button",mobile:x=!1,...u}){let h=(0,s.useCallback)(e=>{l||n||!o||o(e)},[l,n,o]),g=(0,a.cn)("btn",x&&"h-14 px-6 py-3 text-base min-h-[56px] rounded-2xl",{primary:"btn-primary",secondary:"btn-secondary",accent:"btn-accent",success:"btn-success",warning:"btn-warning",error:"btn-error",outline:"btn-outline",ghost:"btn-ghost"}[r],{sm:"btn-sm",md:"btn-md",lg:"btn-lg"}[i],(l||n)&&"opacity-50 cursor-not-allowed",n&&"opacity-75",d);return(0,t.jsxs)("button",{type:m,className:g,disabled:l||n,onClick:h,...u,children:[n&&(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c&&!n&&(0,t.jsx)("span",{className:"w-4 h-4",children:c}),e]})},(e,t)=>e.children===t.children&&e.variant===t.variant&&e.size===t.size&&e.disabled===t.disabled&&e.loading===t.loading&&e.className===t.className&&e.icon===t.icon&&e.mobile===t.mobile&&e.type===t.type);function c(e,t){let[a,r]=(0,s.useState)(()=>{try{let s=window.localStorage.getItem(e);return s?JSON.parse(s):t}catch(s){return console.warn(`Error reading localStorage key "${e}":`,s),t}});return[a,t=>{try{r(t),window.localStorage.setItem(e,JSON.stringify(t))}catch(t){console.warn(`Error setting localStorage key "${e}":`,t)}}]}function o(e,t,s=0,a="day",r={}){let{overboughtThreshold:i=80,oversoldThreshold:l=20,sensitivity:n=50}=r,d=parseFloat(e),c=parseFloat(t),m={signal:"neutral",advice:"中性信号，建议观望",confidence:.5};return d<=20&&c<=l?(m.signal="strong_buy",m.advice=`强烈买入信号：J值(${d.toFixed(1)})和RSI(${c.toFixed(1)})均处于严重超卖区域`,m.confidence=.9):d<=30||c<=35?(m.signal="buy",m.advice=`买入信号：J值(${d.toFixed(1)})或RSI(${c.toFixed(1)})处于超卖区域`,m.confidence=.7):d>=80&&c>=i?(m.signal="strong_sell",m.advice=`强烈卖出信号：J值(${d.toFixed(1)})和RSI(${c.toFixed(1)})均处于严重超买区域`,m.confidence=.9):d>=70||c>=70?(m.signal="sell",m.advice=`卖出信号：J值(${d.toFixed(1)})或RSI(${c.toFixed(1)})处于超买区域`,m.confidence=.7):(c>=45&&c<=55?m.advice=`市场处于平衡状态，J值(${d.toFixed(1)})，RSI(${c.toFixed(1)})在正常区间，建议观望`:c>55?m.advice=`市场偏强势，J值(${d.toFixed(1)})，RSI(${c.toFixed(1)})偏高，可考虑逢高减仓`:m.advice=`市场偏弱势，J值(${d.toFixed(1)})，RSI(${c.toFixed(1)})偏低，可考虑逢低吸纳`,m.confidence=.4),s>0&&(m.confidence=Math.min(.95,m.confidence+.1)),m}function m(e,t,s,a=.1,r=.2){let i=(t+s)/2,l=(e-50)/50*a,n=1+Math.abs(e-50)/50*r,d=(t-s)*n,c=d*(l=Math.max(-a,Math.min(a,l)))/2,o=+(i-d/2-c).toFixed(2),x=+(i+d/2-c).toFixed(2);return{adjustedUpper:x,adjustedLower:o,adjustedWidth:+(x-o).toFixed(2),scaleRatio:+n.toFixed(4),offsetRatio:+l.toFixed(4)}}function x(e,t,s,a=3e-4){let r=e*s*(1+a),i=t*s*(1-a-.001),l=i-r,n=l/r*100;return{buyCost:r.toFixed(2),sellIncome:i.toFixed(2),profit:l.toFixed(2),profitRate:n.toFixed(2),commissionAmount:(e*s*a+t*s*(a+.001)).toFixed(2)}}function u(e,t=25){let s=new Date(e),a=new Date(s.getTime()-6e4*t);return{appointmentTime:a,targetTime:s,makingTime:t,timeRemaining:a-new Date}}function h(e,t,s,a,r=14,i=0,l="day",n={}){let{overboughtThreshold:d=70,oversoldThreshold:c=30,sensitivity:o=50}=n,m=void 0!==e?parseFloat(e):void 0,x=void 0!==t?parseFloat(t):void 0,u=parseFloat(s),g=parseFloat(a),f={signal:"neutral",advice:"中性信号，建议观望",confidence:.5,details:{kdjStatus:"",rsiStatus:""}},b=0,p="";void 0!==m&&void 0!==x?(m>x&&u>0?(p="金叉向上",b=2):m<x&&u<0?(p="死叉向下",b=-2):m>x?(p="偏强",b=1):(p="偏弱",b=-1),u>=100?(p+="（严重超买）",b-=2):u<=-100?(p+="（严重超卖）",b+=2):u>=80?(p+="（超买）",b-=1):u<=20&&(p+="（超卖）",b+=1)):u>=80?(p="J值超买",b=-1):u<=20?(p="J值超卖",b=1):(p="J值中性",b=0),f.details.kdjStatus=p;let j=0,y="";g>=d?g>=85?(y="严重超买",j=-2):(y="超买",j=-1):g<=c?g<=15?(y="严重超卖",j=2):(y="超卖",j=1):(y="中性",j=0),f.details.rsiStatus=y;let v=b+j;return v>=3?(f.signal="strong_buy",f.advice=`强烈买入信号：${p}，${y}，多项指标显示强烈看涨`,f.confidence=.85):v>=1?(f.signal="buy",f.advice=`买入信号：${p}，${y}，指标显示看涨趋势`,f.confidence=.7):v<=-3?(f.signal="strong_sell",f.advice=`强烈卖出信号：${p}，${y}，多项指标显示强烈看跌`,f.confidence=.85):v<=-1?(f.signal="sell",f.advice=`卖出信号：${p}，${y}，指标显示看跌趋势`,f.confidence=.7):(f.advice=`中性信号：${p}，${y}，市场处于平衡状态，建议观望`,f.confidence=.5),i>0&&(f.confidence=Math.min(.95,f.confidence+.05)),f.confidence=Math.min(.95,f.confidence*({minute:.8,hour:.9,day:1,week:1.1,month:1.2})[l]||1),f}function g(e,t,s,a,r=.001){let i=(t-e)/(s-1),l=a/s,n=i*l/((e+t)/2)-i*l/((e+t)/2)*r*2,d=n*s/a*100,c=50*d,o=0!==d?Math.ceil(100/Math.abs(d)):1/0;return{gridSpacing:i.toFixed(2),profitPerGrid:n.toFixed(2),profitRate:d.toFixed(2),annualizedRate:c.toFixed(2),breakEvenDays:o,perGridInvestment:l.toFixed(2)}}function f(e,t=0,s=1/0){let a=parseFloat(e);return isNaN(a)?{isValid:!1,message:"请输入有效数字"}:a<t?{isValid:!1,message:`数值不能小于${t}`}:a>s?{isValid:!1,message:`数值不能大于${s}`}:{isValid:!0,value:a}}function b(e){return f(e,0,100)}function p(e){if(!/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/.test(e))return{isValid:!1,message:"请输入有效时间 (HH:MM)"};let[t,s]=e.split(":").map(Number);return t<0||t>23?{isValid:!1,message:"小时必须在0-23之间"}:s<0||s>59?{isValid:!1,message:"分钟必须在0-59之间"}:{isValid:!0,value:e}}e.s(["Button",0,d],18887),e.s(["useLocalStorage",()=>c],42538),e.s(["calculateGridProfit",()=>g,"calculateKDJ",()=>o,"calculateKDJPro",()=>h,"calculateSoyMilkTime",()=>u,"calculateTDayProfit",()=>x,"computeSmartGridRange",()=>m],8430),e.s(["validateNumber",()=>f,"validateRSI",()=>b,"validateTime",()=>p],58036)},50201,e=>{"use strict";let t=(0,e.i(50466).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["Info",()=>t],50201)},5542,e=>{"use strict";let t=(0,e.i(50466).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],5542)},65798,e=>{"use strict";let t=(0,e.i(50466).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],65798)},73239,e=>{"use strict";let t=(0,e.i(50466).default)("coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);e.s(["Coffee",()=>t],73239)},96025,e=>{"use strict";var t=e.i(48216),s=e.i(65933),a=e.i(21559),r=e.i(28820),i=e.i(18887),l=e.i(47155),n=e.i(42538),d=e.i(8430),c=e.i(58036),o=e.i(73239),m=e.i(50466);let x=(0,m.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),u=(0,m.default)("alarm-clock",[["circle",{cx:"12",cy:"13",r:"8",key:"3y4lt7"}],["path",{d:"M12 9v4l2 2",key:"1c63tq"}],["path",{d:"M5 3 2 6",key:"18tl5t"}],["path",{d:"m22 6-3-3",key:"1opdir"}],["path",{d:"M6.38 18.7 4 21",key:"17xu3x"}],["path",{d:"M17.64 18.67 20 21",key:"kv2oe2"}]]),h=(0,m.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var g=e.i(50201),f=e.i(5542);let b=(0,m.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),p=(0,m.default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),j=(0,m.default)("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);var y=e.i(65798),v=e.i(65642);function N(){let[e,m]=(0,s.useState)(!1),[N,k]=(0,n.useLocalStorage)("soymilk_targetTime",""),[w,C]=(0,n.useLocalStorage)("soymilk_makingTime","25"),[S,M]=(0,n.useLocalStorage)("soymilk_history",[]),[F,$]=(0,s.useState)(null),[T,I]=(0,s.useState)({}),[D,z]=(0,s.useState)(!1),[R,B]=(0,s.useState)(new Date),[L,A]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=setInterval(()=>{B(new Date)},1e3);return()=>clearInterval(e)},[]),(0,s.useEffect)(()=>{if(F&&F.timeRemaining>0){let e=setInterval(()=>{A(Math.max(0,F.timeRemaining-1e3))},1e3);return()=>clearInterval(e)}},[F]),(0,s.useEffect)(()=>{let e=()=>{m(window.innerWidth<640)};return e(),window.addEventListener("resize",e),setTimeout(()=>{document.body.classList.remove("loading")},300),()=>window.removeEventListener("resize",e)},[]);let E=e=>new Intl.DateTimeFormat("zh-CN",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(e),J=F&&F.appointmentTime<=new Date;return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/30",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-orange-500/5 rounded-full blur-3xl"}),(0,t.jsx)("div",{className:"absolute top-1/2 right-1/4 w-96 h-96 bg-yellow-500/5 rounded-full blur-3xl"}),(0,t.jsx)("div",{className:"absolute bottom-0 left-1/3 w-96 h-96 bg-amber-500/5 rounded-full blur-3xl"})]}),(0,t.jsxs)("header",{className:"flex items-center justify-between mb-8 animate-slide-up",children:[(0,t.jsxs)(v.default,{href:"/",className:"inline-flex items-center text-muted-foreground hover:text-primary transition-colors",children:[(0,t.jsx)(y.ArrowLeft,{className:"w-4 h-4 mr-2"}),"返回首页"]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(o.Coffee,{className:"w-6 h-6 text-orange-600 animate-pulse"}),(0,t.jsx)("h1",{className:"h2",children:"豆浆助手"})]}),(0,t.jsx)(l.ThemeToggle,{})]}),(0,t.jsxs)("main",{className:"max-w-2xl mx-auto space-y-8",children:[(0,t.jsx)("section",{className:"text-center animate-fade-in",children:(0,t.jsx)("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"智能预约制作，确保在最佳时间享用热腾腾的豆浆"})}),(0,t.jsx)("section",{className:"animate-slide-up",style:{animationDelay:"200ms"},children:(0,t.jsx)(a.Card,{hover:!0,className:"bg-gradient-to-r from-orange-50 to-yellow-50 dark:from-orange-90/20 dark:to-yellow-900/20 border-orange-200 dark:border-orange-800",mobile:e,children:(0,t.jsx)(a.CardBody,{mobile:e,children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center mb-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center mr-3",children:(0,t.jsx)(x,{className:"w-5 h-5 text-orange-600"})}),(0,t.jsx)("span",{className:"font-medium text-orange-800 dark:text-orange-20",children:"当前时间"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-orange-900 dark:text-orange-100 mb-1",children:E(R)}),(0,t.jsx)("div",{className:"text-sm text-orange-700 dark:text-orange-30",children:"系统实时时间"})]})})})}),(0,t.jsx)("section",{className:"animate-slide-up",style:{animationDelay:"300ms"},children:(0,t.jsxs)(a.Card,{hover:!0,mobile:e,children:[(0,t.jsx)(a.CardHeader,{mobile:e,children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-orange-10 rounded-xl flex items-center justify-center mr-4",children:(0,t.jsx)(o.Coffee,{className:"w-6 h-6 text-orange-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"h3 mb-1",children:"预约设置"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"设置目标饮用时间和制作参数"})]})]})}),(0,t.jsxs)(a.CardBody,{className:"space-y-6",mobile:e,children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"目标饮用时间"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(r.Input,{type:"time",value:N,onChange:e=>k(e.target.value),error:T.targetTime,icon:(0,t.jsx)(u,{className:"w-4 h-4"}),required:!0,mobile:e}),(0,t.jsx)(i.Button,{variant:"outline",size:"sm",onClick:()=>z(!D),className:"absolute right-2 top-1/2 transform -translate-y-1/2",mobile:e,children:(0,t.jsx)(j,{className:"w-4 h-4"})})]}),D&&(0,t.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-lg z-10 max-h-64 overflow-y-auto",children:[{label:"早餐时间",time:"07:30",description:"早上7:30"},{label:"早茶时间",time:"10:00",description:"上午10:00"},{label:"午餐时间",time:"12:30",description:"中午12:30"},{label:"下午茶",time:"15:30",description:"下午3:30"},{label:"晚餐时间",time:"18:30",description:"晚上6:30"},{label:"夜宵时间",time:"21:00",description:"晚上9:00"}].map((e,s)=>(0,t.jsx)("button",{onClick:()=>{k(e.time),z(!1)},className:"w-full text-left px-4 py-3 hover:bg-muted transition-colors border-b border-gray-100 dark:border-gray-700 last:border-b-0 first:rounded-t-xl last:rounded-b-xl",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-foreground",children:e.label}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:e.description})]}),(0,t.jsx)("div",{className:"text-lg font-bold text-orange-600",children:e.time})]})},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"制作时长 (分钟)"}),(0,t.jsx)(r.Input,{type:"number",placeholder:"请输入制作时长",value:w,onChange:e=>C(e.target.value),error:T.makingTime,icon:(0,t.jsx)(x,{className:"w-4 h-4"}),min:"1",max:"120",step:"1",required:!0,mobile:e}),(0,t.jsx)("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[{label:"快速模式",time:15,description:"适合少量豆浆"},{label:"标准模式",time:25,description:"常规制作时长"},{label:"浓浆模式",time:35,description:"口感更浓郁"},{label:"米糊模式",time:20,description:"制作米糊"}].map((s,a)=>(0,t.jsxs)(i.Button,{variant:parseInt(w)===s.time?"primary":"outline",size:"sm",onClick:()=>{C(s.time.toString())},className:"text-xs py-3",mobile:e,children:[s.label,(0,t.jsxs)("span",{className:"ml-1 opacity-75",children:["(",s.time,"分)"]})]},a))})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsxs)(i.Button,{onClick:()=>{if((()=>{let e={};if(N){let t=(0,c.validateTime)(N);t.isValid||(e.targetTime=t.message)}else e.targetTime="请选择目标饮用时间";return(0,c.validateNumber)(w,1,120).isValid||(e.makingTime="制作时长必须在1-120分钟之间"),I(e),0===Object.keys(e).length})())try{let e=new Date,[t,s]=N.split(":"),a=new Date(e.getFullYear(),e.getMonth(),e.getDate(),parseInt(t),parseInt(s));a<=new Date&&a.setDate(a.getDate()+1);let r=(0,d.calculateSoyMilkTime)(a.toISOString(),parseInt(w)),i={id:Date.now(),timestamp:new Date().toISOString(),targetTime:r.targetTime,appointmentTime:r.appointmentTime,makingTime:r.makingTime};M(e=>[i,...e.slice(0,4)]),$(r),A(r.timeRemaining)}catch(e){console.error("计算失败:",e),$({error:!0,message:"计算失败，请检查输入参数"})}},className:"flex-1 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800",size:"lg",mobile:e,children:[(0,t.jsx)(p,{className:"w-4 h-4 mr-2"}),"计算预约时间"]}),(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>{$(null),A(null),I({})},size:"lg",mobile:e,children:"清除结果"})]})]})]})}),F&&!F.error&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("section",{className:"animate-fade-in",style:{animationDelay:"400ms"},children:(0,t.jsxs)(a.Card,{hover:!0,mobile:e,children:[(0,t.jsx)(a.CardHeader,{mobile:e,children:(0,t.jsx)("div",{className:"text-center",children:(0,t.jsxs)("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-success/10 text-success mb-4",children:[(0,t.jsx)(b,{className:"w-5 h-5 mr-2"}),(0,t.jsx)("span",{className:"font-bold",children:"预约时间已计算"})]})})}),(0,t.jsxs)(a.CardBody,{className:"space-y-6",mobile:e,children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-muted/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("h4",{className:"font-semibold flex items-center",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center mr-3",children:(0,t.jsx)(u,{className:"w-4 h-4 text-orange-600"})}),"预约开始时间"]}),J&&(0,t.jsx)("span",{className:"badge badge-error",children:"需立即开始"})]}),(0,t.jsx)("div",{className:"text-2xl font-bold mb-2",children:E(F.appointmentTime)}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"豆浆机开始制作的时间"})]}),(0,t.jsxs)("div",{className:"bg-muted/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center mb-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center mr-3",children:(0,t.jsx)(o.Coffee,{className:"w-4 h-4 text-orange-600"})}),(0,t.jsx)("h4",{className:"font-semibold",children:"目标饮用时间"})]}),(0,t.jsx)("div",{className:"text-2xl font-bold mb-2",children:E(F.targetTime)}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"期望喝到热豆浆的时间"})]})]}),null!==L&&(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsxs)("h4",{className:"font-semibold flex items-center",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:(0,t.jsx)(j,{className:"w-4 h-4 text-blue-600"})}),J?"已过期":"距离预约开始"]})}),(0,t.jsx)("div",{className:`text-3xl font-bold mb-2 ${J?"text-error":"text-blue-600"}`,children:J?"请立即开始":(e=>{if(!e||e<=0)return"已过期";let t=Math.floor(e/36e5),s=Math.floor(e%36e5/6e4),a=Math.floor(e%6e4/1e3);return t>0?`${t}小时${s}分${a}秒`:s>0?`${s}分${a}秒`:`${a}秒`})(L)}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:J?"预约时间已过，建议立即开始制作":"剩余时间到预约开始"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-muted/50 rounded-xl p-6 text-center",children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground mb-2",children:"制作时长"}),(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[F.makingTime," 分钟"]})]}),(0,t.jsxs)("div",{className:"bg-muted/50 rounded-xl p-6 text-center",children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground mb-2",children:"完成等待"}),(0,t.jsxs)("div",{className:"text-2xl font-bold",children:["约 ",Math.ceil(.2*F.makingTime)," 分钟"]}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:"冷却到适宜温度"})]})]})]})]})}),(0,t.jsx)("section",{className:"animate-fade-in",style:{animationDelay:"500ms"},children:(0,t.jsx)(a.Card,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-80",mobile:e,children:(0,t.jsx)(a.CardBody,{mobile:e,children:(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-4 flex-shrink-0",children:(0,t.jsx)(g.Info,{className:"w-4 h-4 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-3",children:"温馨提示"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm text-blue-700 dark:text-blue-300",children:[(0,t.jsx)("p",{children:"• 请提前准备好豆子和水"}),(0,t.jsx)("p",{children:"• 建议在预约开始前5分钟内准备好所有材料"}),(0,t.jsx)("p",{children:"• 制作完成后豆浆会很热，请小心烫伤"}),(0,t.jsx)("p",{children:"• 不同豆浆机型号可能有时间差异，请根据实际情况调整"})]})]})]})})})})]}),F&&F.error&&(0,t.jsx)("section",{className:"animate-fade-in",children:(0,t.jsx)(a.Card,{className:"border-error bg-error/10",mobile:e,children:(0,t.jsx)(a.CardBody,{mobile:e,children:(0,t.jsxs)("div",{className:"flex items-center text-error",children:[(0,t.jsx)(f.AlertCircle,{className:"w-5 h-5 mr-3"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold",children:"计算失败"}),(0,t.jsx)("p",{className:"text-sm",children:F.message})]})]})})})}),S.length>0&&(0,t.jsx)("section",{className:"animate-fade-in",style:{animationDelay:"600ms"},children:(0,t.jsxs)(a.Card,{hover:!0,mobile:e,children:[(0,t.jsxs)(a.CardHeader,{mobile:e,children:[(0,t.jsxs)("h3",{className:"h4 mb-2 flex items-center",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-orange-10 rounded-lg flex items-center justify-center mr-3",children:(0,t.jsx)(h,{className:"w-4 h-4 text-orange-600"})}),"最近预约记录"]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"查看最近的历史预约记录"})]}),(0,t.jsx)(a.CardBody,{mobile:e,children:(0,t.jsx)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:S.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-xl",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(o.Coffee,{className:"w-4 h-4 text-orange-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:E(new Date(e.appointmentTime))}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["制作 ",e.makingTime," 分钟"]})]})]}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:new Date(e.timestamp).toLocaleDateString("zh-CN")})]},e.id))})})]})}),(0,t.jsx)("section",{className:"animate-fade-in",style:{animationDelay:"700ms"},children:(0,t.jsxs)(a.Card,{className:"bg-muted/30",mobile:e,children:[(0,t.jsxs)(a.CardHeader,{mobile:e,children:[(0,t.jsxs)("h3",{className:"h4 mb-2 flex items-center",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center mr-3",children:(0,t.jsx)(g.Info,{className:"w-4 h-4 text-primary"})}),"使用说明"]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"了解如何使用豆浆助手"})]}),(0,t.jsx)(a.CardBody,{mobile:e,children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h4",{className:"font-semibold text-primary",children:"功能说明"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,t.jsxs)("p",{children:["• ",(0,t.jsx)("strong",{children:"目标时间："}),"您希望喝到豆浆的时间"]}),(0,t.jsxs)("p",{children:["• ",(0,t.jsx)("strong",{children:"制作时长："}),"根据豆浆机型号和食材量调整"]}),(0,t.jsxs)("p",{children:["• ",(0,t.jsx)("strong",{children:"预约时间："}),"系统自动计算，确保准时完成"]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h4",{className:"font-semibold text-accent",children:"使用技巧"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,t.jsxs)("p",{children:["• ",(0,t.jsx)("strong",{children:"倒计时提醒："}),"实时显示距离预约开始的剩余时间"]}),(0,t.jsxs)("p",{children:["• ",(0,t.jsx)("strong",{children:"历史记录："}),"保存最近的预约记录，方便查看"]}),(0,t.jsxs)("p",{children:["• ",(0,t.jsx)("strong",{children:"预设模式："}),"快速选择常用的制作模式和饮用时间"]})]})]})]})})]})})]})]})})}e.s(["default",()=>N],96025)}]);