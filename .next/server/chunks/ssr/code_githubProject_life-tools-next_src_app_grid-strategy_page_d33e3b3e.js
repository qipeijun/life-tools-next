module.exports=[44190,a=>{"use strict";var b=a.i(82560),c=a.i(17416),d=a.i(46694),e=a.i(92981),f=a.i(83118),g=a.i(29685),h=a.i(91341),i=a.i(29063),j=a.i(10861),k=a.i(31949),l=a.i(8839),m=a.i(26883),n=a.i(67329),o=a.i(60606),p=a.i(19193),q=a.i(8142),r=a.i(53753),s=a.i(88858),t=a.i(10437),u=a.i(37569),v=a.i(93230);function w(){let[a,w]=(0,c.useState)(!1),[x,y]=(0,h.useLocalStorage)("grid_currentPrice",""),[z,A]=(0,h.useLocalStorage)("grid_upperPrice",""),[B,C]=(0,h.useLocalStorage)("grid_lowerPrice",""),[D,E]=(0,h.useLocalStorage)("grid_rsi",""),[F,G]=(0,h.useLocalStorage)("grid_count","15"),[H,I]=(0,h.useLocalStorage)("grid_investment","10000"),[J,K]=(0,h.useLocalStorage)("grid_advanced",!1),[L,M]=(0,c.useState)(null),[N,O]=(0,c.useState)(!1),[P,Q]=(0,c.useState)({}),[R,S]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let b=()=>{let b=window.innerWidth<640;b!==a&&w(b)};return b(),window.addEventListener("resize",b),setTimeout(()=>{document.body.classList.remove("loading")},300),()=>window.removeEventListener("resize",b)},[a]);let T=()=>{let a={},b=(0,j.validateNumber)(x,0);b.isValid||(a.currentPrice=b.message);let c=(0,j.validateNumber)(z,0);c.isValid||(a.upperPrice=c.message);let d=(0,j.validateNumber)(B,0);d.isValid||(a.lowerPrice=d.message);let e=(0,j.validateRSI)(D);!e.isValid&&D&&(a.rsi=e.message);let f=(0,j.validateNumber)(F,2,50);f.isValid||(a.gridCount=f.message);let g=(0,j.validateNumber)(H,100);if(g.isValid||(a.investment=g.message),x&&z&&B){let b=parseFloat(x),c=parseFloat(z),d=parseFloat(B);c<=d&&(a.upperPrice="上限价格必须大于下限价格"),b<=0&&(a.currentPrice="当前价格必须大于0"),c<=0&&(a.upperPrice="上限价格必须大于0"),d<=0&&(a.lowerPrice="下限价格必须大于0")}return Q(a),0===Object.keys(a).length},U=(0,c.useCallback)(async()=>{if(T()){O(!0),await new Promise(a=>setTimeout(a,600));try{let a=parseFloat(z),b=parseFloat(B),c=D?parseFloat(D):50,d=parseInt(F),e=parseFloat(H),f=(0,i.computeSmartGridRange)(c,a,b),g=(f.adjustedUpper-f.adjustedLower)/(d-1),h=[];for(let a=0;a<d;a++)h.push({level:a+1,price:f.adjustedLower+g*a,buyAmount:e/d/(f.adjustedLower+g*a)});let j=(0,i.calculateGridProfit)(f.adjustedLower,f.adjustedUpper,d,e,.001);M({original:{upper:a,lower:b},adjusted:f,grids:h,profit:j,rsi:c,investment:e})}catch(a){console.error("计算失败:",a),M({error:!0,message:"计算失败，请检查输入参数"})}finally{O(!1)}}},[z,B,D,F,H,T]);return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/30",children:(0,b.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,b.jsxs)("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-purple-500/5 rounded-full blur-3xl"}),(0,b.jsx)("div",{className:"absolute top-1/2 right-1/4 w-96 h-96 bg-indigo-500/5 rounded-full blur-3xl"}),(0,b.jsx)("div",{className:"absolute bottom-0 left-1/3 w-96 h-96 bg-pink-500/5 rounded-full blur-3xl"})]}),(0,b.jsxs)("header",{className:"flex items-center justify-between mb-8 animate-slide-up",children:[(0,b.jsxs)(v.default,{href:"/",className:"inline-flex items-center text-muted-foreground hover:text-primary transition-colors",children:[(0,b.jsx)(u.ArrowLeft,{className:"w-4 h-4 mr-2"}),"返回首页"]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(k.Grid3X3,{className:"w-6 h-6 text-purple-600 animate-pulse"}),(0,b.jsx)("h1",{className:"h2",children:"ETH 网格策略"})]}),(0,b.jsx)(g.ThemeToggle,{})]}),(0,b.jsxs)("main",{className:"max-w-4xl mx-auto space-y-8",children:[(0,b.jsx)("section",{className:"text-center animate-fade-in",children:(0,b.jsx)("p",{className:"text-lg text-muted-foreground max-w-3xl mx-auto",mobile:a,children:"基于RSI的智能网格区间计算和收益分析，助您优化量化交易策略"})}),(0,b.jsx)("section",{className:"animate-slide-up",style:{animationDelay:"200ms"},children:(0,b.jsxs)(d.Card,{hover:!0,className:"bg-card/80 backdrop-blur-sm",mobile:a,children:[(0,b.jsx)(d.CardHeader,{mobile:a,children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"w-14 h-14 bg-purple-10/50 backdrop-blur-sm rounded-2xl flex items-center justify-center mr-4",children:(0,b.jsx)(s.Zap,{className:"w-7 h-7 text-purple-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"h3 mb-1",children:"快速配置"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"选择适合您的策略类型"})]})]})}),(0,b.jsx)(d.CardBody,{mobile:a,children:(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{name:"保守型",rsi:30,count:10,ratio:.15},{name:"稳健型",rsi:50,count:15,ratio:.2},{name:"积极型",rsi:70,count:20,ratio:.25}].map((c,d)=>(0,b.jsxs)(f.Button,{variant:"outline",onClick:()=>(a=>{if(E(a.rsi.toString()),G(a.count.toString()),x){let b=parseFloat(x),c=b*a.ratio;A((b+c).toFixed(2)),C((b-c).toFixed(2))}})(c),className:"p-6 h-auto flex flex-col items-center space-y-3 rounded-2xl",mobile:a,children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-purple-100/50 backdrop-blur-sm rounded-xl flex items-center justify-center",children:(0,b.jsx)(p.Settings,{className:"w-5 h-5 text-purple-600"})}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"font-semibold text-lg",children:c.name}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground mt-1",children:["RSI ",c.rsi," | ",c.count,"网格"]})]})]},d))})})]})}),(0,b.jsx)("section",{className:"animate-slide-up",style:{animationDelay:"300ms"},children:(0,b.jsxs)(d.Card,{hover:!0,className:"bg-card/80 backdrop-blur-sm",mobile:a,children:[(0,b.jsx)(d.CardHeader,{mobile:a,children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"w-14 h-14 bg-purple-10/50 backdrop-blur-sm rounded-2xl flex items-center justify-center mr-4",children:(0,b.jsx)(k.Grid3X3,{className:"w-7 h-7 text-purple-60"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"h3 mb-1",children:"策略参数设置"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"配置网格交易核心参数"})]})]}),(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",onClick:()=>K(!J),className:"rounded-xl",mobile:a,children:[(0,b.jsx)(p.Settings,{className:"w-4 h-4 mr-2"}),J?"简化":"高级"]})]})}),(0,b.jsxs)(d.CardBody,{className:"space-y-6",mobile:a,children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"font-semibold mb-4 flex items-center",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-green-10/50 backdrop-blur-sm rounded-xl flex items-center justify-center mr-3",children:(0,b.jsx)(l.TrendingUp,{className:"w-5 h-5 text-green-600"})}),"价格参数"]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(e.Input,{label:"当前价格 (USDT)",type:"number",placeholder:"ETH当前价格",value:x,onChange:a=>y(a.target.value),error:P.currentPrice,icon:(0,b.jsx)(l.TrendingUp,{className:"w-4 h-4"}),step:"0.01",required:!0,mobile:a}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsx)(e.Input,{label:"上限价格",type:"number",placeholder:"网格上限",value:z,onChange:a=>A(a.target.value),error:P.upperPrice,icon:(0,b.jsx)(l.TrendingUp,{className:"w-4 h-4"}),step:"0.01",required:!0,mobile:a}),(0,b.jsx)(e.Input,{label:"下限价格",type:"number",placeholder:"网格下限",value:B,onChange:a=>C(a.target.value),error:P.lowerPrice,icon:(0,b.jsx)(m.TrendingDown,{className:"w-4 h-4"}),step:"0.01",required:!0,mobile:a})]})]})]}),J&&(0,b.jsx)("div",{className:"space-y-6 border-t border-border pt-6",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"font-semibold mb-4 flex items-center",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:(0,b.jsx)(o.BarChart3,{className:"w-4 h-4 text-blue-600"})}),"高级分析选项"]}),(0,b.jsx)(e.Input,{label:"RSI 指标 (可选)",type:"number",placeholder:"用于智能优化区间",value:D,onChange:a=>E(a.target.value),error:P.rsi,icon:(0,b.jsx)(o.BarChart3,{className:"w-4 h-4"}),step:"0.01",mobile:a}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsx)(e.Input,{label:"网格数量",type:"number",placeholder:"建议10-30个",value:F,onChange:a=>G(a.target.value),error:P.gridCount,icon:(0,b.jsx)(k.Grid3X3,{className:"w-4 h-4"}),step:"1",min:"2",max:"50",mobile:a}),(0,b.jsx)(e.Input,{label:"投资金额 (USDT)",type:"number",placeholder:"总投资金额",value:H,onChange:a=>I(a.target.value),error:P.investment,icon:(0,b.jsx)(n.Calculator,{className:"w-4 h-4"}),step:"100",min:"100",mobile:a})]})]})}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,b.jsx)(f.Button,{onClick:U,disabled:N||!x||!z||!B,loading:N,className:"flex-1 bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800",size:"lg",mobile:a,children:N?"计算中...":"生成网格策略"}),(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>{M(null),S(!1),Q({})},disabled:N,size:"lg",mobile:a,children:"清除结果"})]})]})]})}),L&&!L.error&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("section",{className:"animate-fade-in",style:{animationDelay:"400ms"},children:(0,b.jsxs)(d.Card,{hover:!0,mobile:a,children:[(0,b.jsx)(d.CardHeader,{mobile:a,children:(0,b.jsx)("div",{className:"text-center",children:(0,b.jsxs)("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200 mb-4",children:[(0,b.jsx)(k.Grid3X3,{className:"w-5 h-5 mr-2"}),(0,b.jsx)("span",{className:"font-bold",children:"网格策略已优化"})]})})}),(0,b.jsxs)(d.CardBody,{className:"space-y-6",mobile:a,children:[(0,b.jsxs)("div",{className:"bg-muted/50 rounded-xl p-6",children:[(0,b.jsxs)("h4",{className:"font-semibold mb-4 flex items-center",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center mr-3",children:(0,b.jsx)(t.Activity,{className:"w-4 h-4 text-purple-600"})}),"智能区间优化"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"原始区间"}),(0,b.jsxs)("div",{className:"text-xl font-bold",children:[L.original.lower.toFixed(2)," - ",L.original.upper.toFixed(2)]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"优化区间"}),(0,b.jsxs)("div",{className:"text-xl font-bold text-purple-600",children:[L.adjusted.adjustedLower.toFixed(2)," - ",L.adjusted.adjustedUpper.toFixed(2)]})]})]}),D&&(0,b.jsxs)("div",{className:"text-sm text-muted-foreground bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3",children:["基于RSI(",L.rsi,")智能调整区间宽度 ",L.adjusted.scaleRatio,"x",0!==L.adjusted.offsetRatio&&`，偏移 ${Math.abs(100*L.adjusted.offsetRatio).toFixed(1)}%`]})]}),(0,b.jsxs)("div",{className:"bg-muted/50 rounded-xl p-6",children:[(0,b.jsx)("h4",{className:"font-semibold mb-4",children:"网格配置详情"}),(0,b.jsxs)("div",{className:"space-y-3",children:[L.grids.slice(0,6).map((a,c)=>(0,b.jsxs)("div",{className:"flex justify-between items-center p-3 bg-background rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:`w-3 h-3 rounded-full mr-3 ${0===c?"bg-success":c===L.grids.length-1?"bg-error":"bg-muted-foreground"}`}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"font-medium",children:["网格 ",a.level]}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:[a.buyAmount.toFixed(4)," ETH"]})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:"font-bold text-lg",children:a.price.toFixed(2)}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"USDT"})]})]},c)),L.grids.length>6&&(0,b.jsxs)("div",{className:"text-center text-sm text-muted-foreground py-2 bg-muted/30 rounded-lg",children:["还有 ",L.grids.length-6," 个网格层级..."]})]})]}),(0,b.jsxs)("div",{className:"bg-muted/50 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsx)("h4",{className:"font-semibold",children:"收益分析"}),(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",onClick:()=>S(!R),mobile:a,children:[(0,b.jsx)(n.Calculator,{className:"w-4 h-4 mr-2"}),R?"简化":"详细"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"text-center p-4 bg-background rounded-lg",children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"单格收益"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-success",children:L.profit.profitPerGrid}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"USDT"})]}),(0,b.jsxs)("div",{className:"text-center p-4 bg-background rounded-lg",children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"收益率"}),(0,b.jsxs)("div",{className:"text-2xl font-bold text-primary",children:[L.profit.profitRate,"%"]})]}),(0,b.jsxs)("div",{className:"text-center p-4 bg-background rounded-lg",children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"年化收益"}),(0,b.jsxs)("div",{className:"text-2xl font-bold text-accent",children:[L.profit.annualizedRate,"%"]})]}),(0,b.jsxs)("div",{className:"text-center p-4 bg-background rounded-lg",children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"回本天数"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-warning",children:L.profit.breakEvenDays}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"天"})]})]}),R&&(0,b.jsx)("div",{className:"mt-4 pt-4 border-t border-border",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between p-3 bg-background rounded-lg",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"网格差价"}),(0,b.jsxs)("span",{className:"font-medium",children:[L.profit.gridSpacing," USDT"]})]}),(0,b.jsxs)("div",{className:"flex justify-between p-3 bg-background rounded-lg",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"总投资"}),(0,b.jsxs)("span",{className:"font-medium",children:[L.investment," USDT"]})]}),(0,b.jsxs)("div",{className:"flex justify-between p-3 bg-background rounded-lg",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"网格数量"}),(0,b.jsxs)("span",{className:"font-medium",children:[L.grids.length," 个"]})]})]})})]})]})]})}),(0,b.jsx)("section",{className:"animate-fade-in",style:{animationDelay:"500ms"},children:(0,b.jsxs)(d.Card,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",mobile:a,children:[(0,b.jsx)(d.CardHeader,{mobile:a,children:(0,b.jsxs)("div",{className:"flex items-start",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-4 flex-shrink-0",children:(0,b.jsx)(q.Info,{className:"w-4 h-4 text-blue-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-3",children:"投资风险提示"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm text-blue-700 dark:text-blue-300",children:[(0,b.jsx)("p",{children:"• 网格交易适合震荡行情，单边行情可能产生亏损"}),(0,b.jsx)("p",{children:"• 请确保有足够的资金支持所有网格层级的交易"}),(0,b.jsx)("p",{children:"• 建议定期根据市场情况调整网格参数"}),(0,b.jsx)("p",{children:"• 投资有风险，请根据自身风险承受能力合理配置资金"}),(0,b.jsx)("p",{children:"• 本工具仅供参考，不构成投资建议"})]})]})]})}),(0,b.jsx)(d.CardBody,{mobile:a})]})})]}),L&&L.error&&(0,b.jsx)("section",{className:"animate-fade-in",children:(0,b.jsx)(d.Card,{className:"border-error bg-error/10",mobile:a,children:(0,b.jsx)(d.CardBody,{mobile:a,children:(0,b.jsxs)("div",{className:"flex items-center text-error",children:[(0,b.jsx)(r.AlertCircle,{className:"w-5 h-5 mr-3"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold",children:"计算失败"}),(0,b.jsx)("p",{className:"text-sm",children:L.message})]})]})})})}),(0,b.jsx)("section",{className:"animate-fade-in",style:{animationDelay:"600ms"},children:(0,b.jsxs)(d.Card,{className:"bg-muted/30",mobile:a,children:[(0,b.jsxs)(d.CardHeader,{mobile:a,children:[(0,b.jsxs)("h3",{className:"h4 mb-2 flex items-center",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center mr-3",children:(0,b.jsx)(q.Info,{className:"w-4 h-4 text-primary"})}),"使用指南"]}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"了解网格策略的核心概念和使用方法"})]}),(0,b.jsx)(d.CardBody,{className:"space-y-6",mobile:a,children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h4",{className:"font-semibold text-primary",children:"参数说明"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,b.jsxs)("p",{children:["• ",(0,b.jsx)("strong",{children:"当前价格："}),"ETH的实时市场价格"]}),(0,b.jsxs)("p",{children:["• ",(0,b.jsx)("strong",{children:"上下限价格："}),"网格交易的最高和最低价格区间"]}),(0,b.jsxs)("p",{children:["• ",(0,b.jsx)("strong",{children:"RSI优化："}),"基于RSI指标智能优化网格区间"]}),(0,b.jsxs)("p",{children:["• ",(0,b.jsx)("strong",{children:"网格数量："}),"建议10-30个网格"]})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h4",{className:"font-semibold text-accent",children:"策略要点"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,b.jsxs)("p",{children:["• ",(0,b.jsx)("strong",{children:"投资金额："}),"总投入资金，平均分配到各网格"]}),(0,b.jsxs)("p",{children:["• ",(0,b.jsx)("strong",{children:"自动计算："}),"系统自动计算每个网格的买入金额"]}),(0,b.jsxs)("p",{children:["• ",(0,b.jsx)("strong",{children:"收益预估："}),"提供预期收益和风险分析"]}),(0,b.jsxs)("p",{children:["• ",(0,b.jsx)("strong",{children:"动态调整："}),"支持根据市场变化调整参数"]})]})]})]})})]})})]})]})})}a.s(["default",()=>w])}];

//# sourceMappingURL=code_githubProject_life-tools-next_src_app_grid-strategy_page_d33e3b3e.js.map